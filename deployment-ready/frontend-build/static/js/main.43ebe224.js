/*! For license information please see main.43ebe224.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,m(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,s)&&!k.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+C(l,0):a,w(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),P(i,t,s,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(o=e[c],c);l+=P(o,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,s,u=a+C(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],s=0;return P(e,r,"","",function(e){return t.call(n,e,s++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(829)),a=r(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:s=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||s?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<s&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(v=!1,_(e),!m)if(null!==r(c))m=!0,A(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){m=!1,v&&(v=!1,y(S),S=-1),p=!0;var a=f;try{for(_(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),_(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,N=null,S=-1,E=5,C=-1;function P(){return!(t.unstable_now()-C<E)}function T(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?j():(k=!1,N=null)}}else k=!1}if("function"===typeof b)j=function(){b(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=T,j=function(){R.postMessage(null)}}else j=function(){g(T,0)};function A(e){N=e,k||(k=!0,j())}function L(e,n){S=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(v?(y(S),S=-1):v=!0,L(w,a-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A(x))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(630)),a=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let s=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(s={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(i=[],s=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null===s||void 0===s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,l=200,c="OK"),s&&this.shouldThrowOnError)throw new a.default(s)}return{error:s,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(286));class a extends s.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=s?`${s}.order`:"order",i=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s="undefined"===typeof r?"offset":`${r}.offset`,a="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>s});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const s=r.fetch,a=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=v.hasOwnProperty(t)?v[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,$=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case x:return"Portal";case N:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,je=null,ke=null;function Ne(e){if(e=bs(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ws(t),xe(e.stateNode,e.type,t))}}function Se(e){je?ke?ke.push(e):ke=[e]:je=e}function Ee(){if(je){var e=je,t=ke;if(ke=je=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ce(e,t){return e(t)}function Pe(){}var Te=!1;function Oe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==je||null!==ke)&&(Pe(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ae=!1}function Ie(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,$e=null,Fe=!1,Ue=null,Be={onError:function(e){De=!0,$e=e}};function ze(e,t,n,r,s,a,i,o,l){De=!1,$e=null,Ie.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Me(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return We(s),e;if(i===r)return We(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Qe=s.unstable_requestPaint,Ye=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=dt(o):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~s)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,jt,kt,Nt,St=!1,Et=[],Ct=null,Pt=null,Tt=null,Ot=new Map,Rt=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function $t(e){var t=ys(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Me(n)))return e.blockedOn=t,void Nt(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Tt&&Ft(Tt)&&(Tt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)$t(n),null===n.blockedOn&&At.shift()}var Mt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var s=bt,a=Mt.transition;Mt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=s,Mt.transition=a}}function Vt(e,t,n,r){var s=bt,a=Mt.transition;Mt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=s,Mt.transition=a}}function Kt(e,t,n,r){if(Wt){var s=Gt(e,t,n,r);if(null===s)Wr(e,t,r,Jt,n),It(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,s),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,s),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ot.set(a,Dt(Ot.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&wt(a),null===(a=Gt(e,t,n,r))&&Wr(e,t,r,Jt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Jt=null;function Gt(e,t,n,r){if(Jt=null,null!==(e=ys(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Me(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,s="value"in Yt?Yt.value:Yt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=$({},cn,{view:0,detail:0}),hn=sn(dn),fn=$({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn($({},fn,{dataTransfer:0})),vn=sn($({},dn,{relatedTarget:0})),gn=sn($({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=$({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),_n=sn($({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Nn(){return kn}var Sn=$({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Sn),Cn=sn($({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn($({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=sn($({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=$({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(On),An=[9,13,27,32],Ln=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,$n=u&&(!Ln||In&&8<In&&11>=In),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Kn=null;function Jn(e){Fr(e,0)}function Gn(e){if(K(_s(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Kn=Vn=null)}function nr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Oe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function ar(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=ur(n,a);var i=ur(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Vr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},kr={};function Nr(e){if(jr[e])return jr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return jr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Nr("animationend"),Er=Nr("animationiteration"),Cr=Nr("animationstart"),Pr=Nr("transitionend"),Tr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Lr=Or[Ar];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(a(198));var u=$e;De=!1,$e=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;$r(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;$r(s,o,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Mr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Mr(e,t,n,r){switch(Qt(t)){case 1:var s=Ht;break;case 4:s=Vt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ys(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=a,s=we(n),i=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Sr:case Er:case Cr:l=gn;break;case Pr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!ys(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ys(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:_s(l),f=null==c?o:_s(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,ys(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Jr(i,o,l,u,!1),null!==c&&null!==d&&Jr(i,d,c,u,!0)}if("select"===(l=(o=r?_s(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var v=Qn;else if(Wn(o))if(Yn)v=ir;else{v=sr;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ar);switch(v&&(v=v(e,r))?Hn(i,v,n,s):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?_s(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(i,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(i,n,s)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&($n&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Yt=s)?Yt.value:Yt.textContent,qn=!0)),0<(g=Vr(r,b)).length&&(b=new _n(b,e,null,n,s),i.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(s=new _n("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Fr(i,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,s)),null!=(a=Re(e,t))&&r.push(Hr(e,a,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Re(n,a))&&i.unshift(Hr(n,l,o)):s||null!=(l=Re(n,a))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);qt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,vs="__reactListeners$"+ds,gs="__reactHandles$"+ds;function ys(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _s(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ws(e){return e[fs]||null}var xs=[],js=-1;function ks(e){return{current:e}}function Ns(e){0>js||(e.current=xs[js],xs[js]=null,js--)}function Ss(e,t){js++,xs[js]=e.current,e.current=t}var Es={},Cs=ks(Es),Ps=ks(!1),Ts=Es;function Os(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function As(){Ns(Ps),Ns(Cs)}function Ls(e,t,n){if(Cs.current!==Es)throw Error(a(168));Ss(Cs,t),Ss(Ps,n)}function Is(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,M(e)||"Unknown",s));return $({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Ts=Cs.current,Ss(Cs,e),Ss(Ps,Ps.current),!0}function $s(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Is(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Ns(Ps),Ns(Cs),Ss(Cs,e)):Ns(Ps),Ss(Ps,n)}var Fs=null,Us=!1,Bs=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function qs(){if(!Bs&&null!==Fs){Bs=!0;var e=0,t=bt;try{var n=Fs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Us=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ke(Ze,qs),s}finally{bt=t,Bs=!1}}return null}var Ms=[],Ws=0,Hs=null,Vs=0,Ks=[],Js=0,Gs=null,Qs=1,Ys="";function Xs(e,t){Ms[Ws++]=Vs,Ms[Ws++]=Hs,Hs=e,Vs=t}function Zs(e,t,n){Ks[Js++]=Qs,Ks[Js++]=Ys,Ks[Js++]=Gs,Gs=e;var r=Qs;e=Ys;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qs=1<<32-it(t)+s|n<<s|r,Ys=a+e}else Qs=1<<a|n<<s|r,Ys=e}function ea(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function ta(e){for(;e===Hs;)Hs=Ms[--Ws],Ms[Ws]=null,Vs=Ms[--Ws],Ms[Ws]=null;for(;e===Gs;)Gs=Ks[--Js],Ks[Js]=null,Ys=Ks[--Js],Ks[Js]=null,Qs=Ks[--Js],Ks[Js]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gs?{id:Qs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&oa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!sa)return ua(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cs(e.nextSibling)}function fa(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=_.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((r=s(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case x:return n.key===s?u(e,t,n,r):null;case R:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||I(n))return null!==s?null:d(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case R:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function m(s,a,o,l){for(var c=null,u=null,d=a,m=a=0,v=null;null!==d&&m<o.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(s,d,o[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(s,d),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===o.length)return n(s,d),sa&&Xs(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return sa&&Xs(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(v=p(d,s,m,o[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(s,e)}),sa&&Xs(s,m),c}function v(s,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,v=o=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=i(b,o,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(s,m),sa&&Xs(s,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return sa&&Xs(s,v),u}for(m=r(s,m);!y.done;v++,y=l.next())null!==(y=p(m,s,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),o=i(y,o,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(s,e)}),sa&&Xs(s,v),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===j){if(7===u.tag){n(r,u.sibling),(a=s(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===u.type){n(r,u.sibling),(a=s(u,i.props)).ref=va(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===j?((a=Ic(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Lc(i.type,i.key,i.props,null,r.mode,l)).ref=va(r,a,i),l.return=r,r=l)}return o(r);case x:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(i,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(u=i._init)(i._payload),l)}if(te(i))return m(r,a,i,l);if(I(i))return v(r,a,i,l);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=$c(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var _a=ba(!0),wa=ba(!1),xa=ks(null),ja=null,ka=null,Na=null;function Sa(){Na=ka=ja=null}function Ea(e){var t=xa.current;Ns(xa),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){ja=e,Na=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Na!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ja)throw Error(a(308));ka=e,ja.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Oa=null;function Ra(e){null===Oa?Oa=[e]:Oa.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ra(t)):(n.next=s.next,s.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,La(e,n)}return null===(s=r.interleaved)?(t.next=t,Ra(r)):(t.next=s.next,s.next=t),r.interleaved=t,La(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,r){var s=e.updateQueue;Ia=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=$({},d,h);break e;case 2:Ia=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=d}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Wa={},Ha=ks(Wa),Va=ks(Wa),Ka=ks(Wa);function Ja(e){if(e===Wa)throw Error(a(174));return e}function Ga(e,t){switch(Ss(Ka,t),Ss(Va,e),Ss(Ha,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ns(Ha),Ss(Ha,t)}function Qa(){Ns(Ha),Ns(Va),Ns(Ka)}function Ya(e){Ja(Ka.current);var t=Ja(Ha.current),n=le(t,e.type);t!==n&&(Ss(Va,e),Ss(Ha,n))}function Xa(e){Va.current===e&&(Ns(Ha),Ns(Va))}var Za=ks(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=_.ReactCurrentDispatcher,si=_.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,s),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,s)}while(ui)}if(ri.current=Yi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function vi(){var e=0!==di;return di=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function _i(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ai&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Dl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xi(){}function ji(e,t){var n=ii,r=yi(),s=t(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,bo=!0),r=r.queue,Ii(Si.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ti(9,Ni.bind(null,n,r,s,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||ki(n,t,s)}return s}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&Ci(e)}function Si(e,t,n){return n(function(){Ei(t)&&Ci(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ci(e){var t=La(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return yi().memoizedState}function Ri(e,t,n,r){var s=gi();ii.flags|=e,s.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Ai(e,t,n,r){var s=yi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(s.memoizedState=Ti(t,n,a,r))}ii.flags|=e,s.memoizedState=Ti(1|t,n,a,r)}function Li(e,t){return Ri(8390656,8,e,t)}function Ii(e,t){return Ai(2048,8,e,t)}function Di(e,t){return Ai(4,2,e,t)}function $i(e,t){return Ai(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4,4,Fi.bind(null,t,e),n)}function Bi(){}function zi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Mi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Dl|=n,e.baseState=!0),t)}function Wi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{bt=n,si.transition=r}}function Hi(){return yi().memoizedState}function Vi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))Gi(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function Ki(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Gi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(s.next=s,Ra(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Aa(e,t,s,r))&&(nc(n,e,r,s=ec()),Qi(n,t,r))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yi={readContext:Ta,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Ta,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Bi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Wi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=gi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pl)throw Error(a(349));0!==(30&ai)||ki(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Li(Si.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Pl.identifierPrefix;if(sa){var n=Ys;t=":"+t+"R"+(n=(Qs&~(1<<32-it(Qs)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Ii,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:$i,useMemo:qi,useReducer:_i,useRef:Oi,useState:function(){return _i(bi)},useDebugValue:Bi,useDeferredValue:function(e){return Mi(yi(),oi.memoizedState,e)},useTransition:function(){return[_i(bi)[0],yi().memoizedState]},useMutableSource:xi,useSyncExternalStore:ji,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Ii,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:$i,useMemo:qi,useReducer:wi,useRef:Oi,useState:function(){return wi(bi)},useDebugValue:Bi,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Mi(t,oi.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:xi,useSyncExternalStore:ji,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Fa(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Fa(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fa(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ua(e,s,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function so(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function ao(e,t,n){var r=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=Rs(t)?Ts:Cs.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Os(e,s):Es),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=Rs(t)?Ts:Cs.current,s.context=Os(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),qa(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),uo(0,t)},n}function po(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var yo=_.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?wa(t,null,n,r):_a(t,e.child,n,r)}function wo(e,t,n,r,s){n=n.render;var a=t.ref;return Pa(t,s),r=mi(e,t,n,r,a,s),n=vi(),null===e||bo?(sa&&n&&ea(t),t.flags|=1,_o(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function xo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,jo(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Wo(e,t,s)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Wo(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,r,s)}function ko(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Al,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Al,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ss(Al,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ss(Al,Rl),Rl|=r;return _o(e,t,s,n),t.child}function No(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,s){var a=Rs(n)?Ts:Cs.current;return a=Os(t,a),Pa(t,s),n=mi(e,t,n,r,a,s),r=vi(),null===e||bo?(sa&&r&&ea(t),t.flags|=1,_o(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function Eo(e,t,n,r,s){if(Rs(n)){var a=!0;Ds(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Mo(e,t),ao(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Os(t,c=Rs(n)?Ts:Cs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Ia=!1;var h=t.memoizedState;i.state=h,qa(t,r,i,s),l=t.memoizedState,o!==r||h!==l||Ps.current||Ia?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ia||so(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,$a(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Os(t,l=Rs(n)?Ts:Cs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),Ia=!1,h=t.memoizedState,i.state=h,qa(t,r,i,s);var p=t.memoizedState;o!==d||h!==p||Ps.current||Ia?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ia||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,a,s)}function Co(e,t,n,r,s,a){No(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&$s(t,n,!1),Wo(e,t,a);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,o,a)):_o(e,t,o,a),t.memoizedState=r.state,s&&$s(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ga(e,t.containerInfo)}function To(e,t,n,r,s){return fa(),pa(s),t.flags|=256,_o(e,t,n,r),t.child}var Oo,Ro,Ao,Lo,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function $o(e,t,n){var r,s=t.pendingProps,i=Za.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ss(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,s,0,null),e=Ic(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Io,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Dc({mode:"visible",children:r.children},s,0,null),(i=Ic(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&_a(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,La(e,s),nc(r,e,s,-1))}return mc(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ks[Js++]=Qs,Ks[Js++]=Ys,Ks[Js++]=Gs,Qs=e.id,Ys=e.overflow,Gs=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ac(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Ac(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,s}return e=(o=e.child).sibling,s=Ac(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&pa(r),_a(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function zo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zo(t,!0,n,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Rs(t.type)&&As(),Vo(t),null;case 3:return r=t.stateNode,Qa(),Ns(Ps),Ns(Cs),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Ro(e,t),Vo(t),null;case 5:Xa(t);var s=Ja(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ao(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vo(t),null}if(e=Ja(Ha.current),da(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[fs]=i,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Ir.length;s++)Ur(Ir[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,i),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",r);break;case"textarea":se(r,i),Ur("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":V(r),Z(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ir.length;s++)Ur(Ir[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":Q(e,r),s=G(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=$({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(i in ye(n,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ve(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Ur("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Ka.current),Ja(Ha.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Vo(t),null;case 13:if(Ns(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,i=!1;else if(i=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hs]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Qa(),Ro(e,t),null===e&&qr(t.stateNode.containerInfo),Vo(t),null;case 10:return Ea(t.type._context),Vo(t),null;case 19:if(Ns(Za),null===(i=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ho(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>ql&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Vo(t),null}else 2*Ye()-i.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Za.current,Ss(Za,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Jo(e,t){switch(ta(t),t.tag){case 1:return Rs(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ns(Ps),Ns(Cs),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ns(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ns(Za),null;case 4:return Qa(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Ao=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ja(Ha.current);var a,i=null;switch(n){case"input":s=G(e,s),r=G(e,r),i=[];break;case"select":s=$({},s,{value:void 0}),r=$({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[vs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),qt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(n,t,i),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(i,o,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){kc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){kc(e,e.return,v)}try{nl(5,e,e.return)}catch(v){kc(e,e.return,v)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(v){kc(e,e.return,v)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(s,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ve(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):b(s,d,h,u)}switch(l){case"input":X(s,i);break;case"textarea":ae(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(v){kc(e,e.return,v)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){kc(e,e.return,v)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(v){kc(e,e.return,v)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Ye())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){kc(r,n,v)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Xo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(v){kc(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){kc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var s=Xo,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Go;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Go;var c=Qo;if(Go=i,(Qo=l)&&!c)for(Xo=s;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?xl(s):null!==l?(l.return=i,Xo=l):xl(s);for(;null!==a;)Xo=a,bl(a,t,n),a=a.sibling;Xo=s,Go=o,Qo=c}_l(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Xo=a):_l(e)}}function _l(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ma(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Qo||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){kc(t,s,l)}}var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var jl,kl=Math.ceil,Nl=_.ReactCurrentDispatcher,Sl=_.ReactCurrentOwner,El=_.ReactCurrentBatchConfig,Cl=0,Pl=null,Tl=null,Ol=0,Rl=0,Al=ks(0),Ll=0,Il=null,Dl=0,$l=0,Fl=0,Ul=null,Bl=null,zl=0,ql=1/0,Ml=null,Wl=!1,Hl=null,Vl=null,Kl=!1,Jl=null,Gl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Cl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Ol?Ol&-Ol:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(a(185));gt(e,n,r),0!==(2&Cl)&&e===Pl||(e===Pl&&(0===(2&Cl)&&($l|=n),4===Ll&&oc(e,Ol)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Ye()+500,Us&&qs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Pl?Ol:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Us=!0,zs(e)}(lc.bind(null,e)):zs(lc.bind(null,e)),is(function(){0===(6&Cl)&&qs()}),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var s=Cl;Cl|=2;var i=pc();for(Pl===e&&Ol===t||(Ml=null,ql=Ye()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Sa(),Nl.current=i,Cl=s,null!==Tl?t=0:(Pl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Il,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Il,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Ml);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,Bl,Ml),t);break}wc(e,Bl,Ml);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,Bl,Ml),r);break}wc(e,Bl,Ml);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Ml),rc(e,Ye()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Ye()+500,Us&&qs())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&Cl)&&xc();var t=Cl;Cl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Cl=t))&&qs()}}function dc(){Rl=Al.current,Ns(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&As();break;case 3:Qa(),Ns(Ps),Ns(Cs),ni();break;case 5:Xa(r);break;case 4:Qa();break;case 13:case 19:Ns(Za);break;case 10:Ea(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Tl=e=Ac(e.current,null),Ol=Rl=t,Ll=0,Il=null,Fl=$l=Dl=0,Bl=Ul=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Oa=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(Sa(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ai=0,li=oi=ii=null,ui=!1,di=0,Sl.current=null,null===n||null===n.return){Ll=1,Il=t,Tl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),mc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var g=vo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),pa(lo(c,l));break e}}i=c=lo(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,fo(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,po(i,l,t));break e}}i=i.return}while(null!==i)}_c(n)}catch(_){t=_,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pc(){var e=Nl.current;return Nl.current=Yi,null===e?Yi:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Pl||0===(268435455&Dl)&&0===(268435455&$l)||oc(Pl,Ol)}function vc(e,t){var n=Cl;Cl|=2;var r=pc();for(Pl===e&&Ol===t||(Ml=null,hc(e,t));;)try{gc();break}catch(s){fc(e,s)}if(Sa(),Cl=n,Nl.current=r,null!==Tl)throw Error(a(261));return Pl=null,Ol=0,Ll}function gc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Ge();)bc(Tl)}function bc(e){var t=jl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_c(e):Tl=t,Sl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Tl=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,s=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Jl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Pl&&(Tl=Pl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Pc(tt,function(){return xc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(es=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:to(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),vl(n,e),pr(ts),Wt=!!es,ts=es=null,e.current=n,yl(n,e,s),Qe(),Cl=l,bt=o,El.transition=i}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Gl=s),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&xc(),i=e.pendingLanes,0!==(1&i)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,qs()}(e,t,n,r)}finally{El.transition=s,bt=r}return null}function xc(){if(null!==Jl){var e=_t(Gl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Gl=0,0!==(6&Cl))throw Error(a(331));var s=Cl;for(Cl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(al(d),d===u){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=i.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var b=e.current;for(Xo=b;null!==Xo;){var _=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==_)_.return=o,Xo=_;else e:for(o=b;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){kc(l,l.return,x)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Cl=s,qs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(x){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function jc(e,t,n){e=Ua(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ua(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Ye()-zl?hc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=La(e,t))&&(gt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Pc(e,t){return Ke(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Tc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Ic(n.children,s,i,t);case k:o=8,s|=8;break;case N:return(e=Oc(12,n,t,2|s)).elementType=N,e.lanes=i,e;case P:return(e=Oc(13,n,t,s)).elementType=P,e.lanes=i,e;case T:return(e=Oc(19,n,t,s)).elementType=T,e.lanes=i,e;case A:return Dc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case C:o=11;break e;case O:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,s,a,i,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function zc(e){if(!e)return Es;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Is(e,n,t)}return t}function qc(e,t,n,r,s,a,i,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=zc(null),n=e.current,(a=Fa(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function Mc(e,t,n,r){var s=t.current,a=ec(),i=tc(s);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(s,t,i))&&(nc(e,s,i,a),Ba(e,s,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fa();break;case 5:Ya(t);break;case 1:Rs(t.type)&&Ds(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(xa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(Ss(Za,1&Za.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ss(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,sa&&0!==(1048576&t.flags)&&Zs(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mo(e,t),e=t.pendingProps;var s=Os(t,Cs.current);Pa(t,n),s=mi(null,t,r,e,s,n);var i=vi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(r)?(i=!0,Ds(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Da(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),_o(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),s){case 0:t=So(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Po(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,$a(e,t),qa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,r,n,s=lo(Error(a(423)),t));break e}if(r!==s){t=To(e,t,r,n,s=lo(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===s){t=Wo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==i&&ns(r,i)&&(t.flags|=32),No(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return $o(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ss(xa,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===s.children&&!Ps.current){t=Wo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Fa(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ca(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ca(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}_o(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pa(t,n),r=r(s=Ta(s)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),xo(e,t,r,s=to(r.type,s),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Mo(e,t),t.tag=1,Rs(r)?(e=!0,Ds(t)):e=!1,Pa(t,n),ao(t,r,s),oo(t,r,s,n),Co(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return ko(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Wc(i);o.call(e)}}Mc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Wc(i);a.call(e)}}var i=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ps]=i.current,qr(8===e.nodeType?e.parentNode:e),uc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ps]=l.current,qr(8===e.nodeType?e.parentNode:e),uc(function(){Mc(t,l,n,r)}),l}(n,t,e,s,r);return Wc(i)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Mc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Mc(null,e,null,null)}),t[ps]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&$t(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Cl)&&(ql=Ye()+500,qs()))}break;case 13:uc(function(){var t=La(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},xt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=La(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return bt},Nt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(a(90));K(r),X(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[bs,_s,ws,Se,Ee,cc]},tu={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,qr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,i,o),e[ps]=t.current,qr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(374));class a extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=a},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:s}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),a||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=r(n(210));t.PostgrestClient=s.default;const a=r(n(829));t.PostgrestQueryBuilder=a.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".3348b516.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="blood-warriors-frontend:";n.l=(r,s,a,i)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=a);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,a,i=r[0],o=r[1],l=r[2],c=0;if(i.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkblood_warriors_frontend=self.webpackChunkblood_warriors_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>_n,hasStandardBrowserEnv:()=>xn,hasStandardBrowserWebWorkerEnv:()=>jn,navigator:()=>wn,origin:()=>kn});var s,a=n(43),i=n.t(a,2),o=n(391),l=n(950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=s.Pop,c=null,f=g();function g(){return(o.state||{idx:null}).idx}function y(){l=s.Pop;let e=g(),t=null==e?null:e-f;f=e,c&&c({action:l,location:_.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(u({},o.state,{idx:f}),""));let _={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(d,y),c=e,()=>{a.removeEventListener(d,y),c=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let r=m(_.location,e,t);n&&n(r,e),f=g()+1;let u=p(r,f),d=_.createHref(r);try{o.pushState(u,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(d)}i&&c&&c({action:l,location:_.location,delta:1})},replace:function(e,t){l=s.Replace;let r=m(_.location,e,t);n&&n(r,e),f=g();let a=p(r,f),u=_.createHref(r);o.replaceState(a,"",u),i&&c&&c({action:l,location:_.location,delta:0})},go:e=>o.go(e)};return _}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=I(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let a=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=L(s);i=R(a[o],e,r)}return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(h(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=B([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))s(e,t,r);else s(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=j(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,E=1,C=10,P=-2,T=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=P),t&&(r+=S),n.filter(e=>!T(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?E:C),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:B([a,u.pathname]),pathnameBase:z(B([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=B([a,u.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=$(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function U(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=u({},e),h(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:q(r),hash:M(s)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const J=a.createContext(null);const G=a.createContext(null);const Q=a.createContext(null);const Y=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=a.createContext(null);function ee(){return null!=a.useContext(Y)}function te(){return ee()||h(!1),a.useContext(Y).location}function ne(e){a.useContext(Q).static||a.useLayoutEffect(e)}function re(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=fe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=a.useRef(!1);return ne(()=>{n.current=!0}),a.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))},[e,t])}():function(){ee()||h(!1);let e=a.useContext(J),{basename:t,future:n,navigator:r}=a.useContext(Q),{matches:s}=a.useContext(X),{pathname:i}=te(),o=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=a.useRef(!1);return ne(()=>{l.current=!0}),a.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=U(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:B([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[t,r,o,i,e])}()}function se(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(Q),{matches:s}=a.useContext(X),{pathname:i}=te(),o=JSON.stringify(F(s,r.v7_relativeSplatPath));return a.useMemo(()=>U(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ae(e,t,n,r){ee()||h(!1);let{navigator:i}=a.useContext(Q),{matches:o}=a.useContext(X),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=te();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=_(e,{pathname:v});let b=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,r);return t&&b?a.createElement(Y.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},b):b}function ie(){let e=function(){var e;let t=a.useContext(Z),n=pe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const oe=a.createElement(ie,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(J);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(X.Provider,{value:t},r)}function ue(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,d=!1,h=null,f=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||ve[p]||(ve[p]=!0),d=!0,f=null):u===s&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,s+1)),v=()=>{let t;return t=i?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:i,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function fe(e){let t=a.useContext(J);return t||h(!1),t}function pe(e){let t=a.useContext(G);return t||h(!1),t}function me(e){let t=function(){let e=a.useContext(X);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ve={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:s}=e;ee()||h(!1);let{future:i,static:o}=a.useContext(Q),{matches:l}=a.useContext(X),{pathname:c}=te(),u=re(),d=U(t,F(l,i.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);return a.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function be(e){h(!1)}function _e(e){let{basename:t="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let u=t.replace(/^\/*/,"/"),d=a.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof r&&(r=g(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=r,b=a.useMemo(()=>{let e=I(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:i}},[u,f,p,m,v,y,i]);return null==b?null:a.createElement(Q.Provider,{value:d},a.createElement(Y.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ae(xe(t),n)}new Promise(()=>{});a.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,xe(e.props.children,s));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=xe(e.props.children,s)),n.push(i)}),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function Ne(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(jo){}new Map;const Ee=i.startTransition;c.flushSync,i.useId;function Ce(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return m("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,o)));let l=i.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=a.useCallback(e=>{d&&Ee?Ee(()=>u(e)):u(e)},[u,d]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ge(r),[r]),a.createElement(_e,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=ke(e,Se),{basename:m}=a.useContext(Q),g=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=I(t.pathname,m);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(jo){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:r,navigator:s}=a.useContext(Q),{hash:i,pathname:o,search:l}=se(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:B([r,o])),s.createHref({pathname:c,search:l,hash:i})}(u,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=se(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:v(u)===v(d);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});return a.createElement("a",je({},p,{href:n||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Re,Ae;function Le(e){let t=a.useRef(Ne(e)),n=a.useRef(!1),r=te(),s=a.useMemo(()=>function(e,t){let n=Ne(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),i=re(),o=a.useCallback((e,t)=>{const r=Ne("function"===typeof e?e(s):e);n.current=!0,i("?"+r,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));var Ie=n(579);const De=(0,a.createContext)(),$e="blood_warriors_access_token",Fe="blood_warriors_refresh_token",Ue=()=>localStorage.getItem(Fe),Be=e=>localStorage.setItem($e,e),ze=e=>localStorage.setItem(Fe,e),qe=e=>{if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(t){return null}},Me=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),[d,h]=(0,a.useState)(null),f="https://your-backend-app.onrender.com/api",p=(0,a.useCallback)(async()=>{try{const e=localStorage.getItem($e),t=Ue();if(e&&t)if((e=>{if(!e)return!0;try{const t=JSON.parse(atob(e.split(".")[1])),n=Date.now()/1e3;return t.exp<n}catch(t){return!0}})(e)){await g(t)||m()}else{u(e),h(t);const n=qe(e);n&&(r({id:n.sub,email:n.email,userType:n.userType,isVerified:n.isVerified}),await v(e))}}catch(e){console.error("Auth initialization error:",e),m()}finally{l(!1)}},[]);(0,a.useEffect)(()=>{p()},[p]);const m=()=>{r(null),i(null),u(null),h(null),localStorage.removeItem($e),localStorage.removeItem(Fe)},v=async e=>{if(e)try{const t=await fetch(`${f}/auth/profile`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();i(e.data)}else if(401===t.status){const e=Ue();if(e){await g(e)||m()}else m()}}catch(t){console.error("Profile fetch error:",t)}},g=async e=>{try{const t=await fetch(`${f}/auth/token/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});if(t.ok){const e=await t.json(),{access_token:n,refresh_token:s}=e.data;u(n),h(s),Be(n),ze(s);const a=qe(n);return a&&r({id:a.sub,email:a.email,userType:a.userType,isVerified:a.isVerified}),!0}return m(),!1}catch(t){return console.error("Token refresh error:",t),m(),!1}},y={user:n,profile:s,userProfile:s,loading:o,accessToken:c,isAuthenticated:!!n,login:async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const s=await fetch(`${f}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,remember_me:n})}),a=await s.json();if(!s.ok)throw new Error(a.message||"Login failed");const{access_token:o,refresh_token:l,user:c}=a.data;return u(o),h(l),Be(o),ze(l),r({id:c.user_id,email:c.email,userType:c.user_type,isVerified:c.is_verified}),i(c),a}catch(s){throw console.error("Login error:",s),s}},register:async e=>{try{const t=await fetch(`${f}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Registration failed");return n}catch(t){throw console.error("Registration error:",t),t}},logout:async()=>{try{(c||d)&&await fetch(`${f}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({refresh_token:d})})}catch(e){console.error("Logout error:",e)}finally{m()}},updateProfile:async e=>{try{if(!c)throw new Error("No active session");const t=await fetch(`${f}/auth/profile`,{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update profile")}const n=await t.json();return i(n.data),n}catch(t){throw console.error("Profile update error:",t),t}},forgotPassword:async e=>{try{const t=await fetch(`${f}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to send reset email");return n}catch(t){throw console.error("Forgot password error:",t),t}},resetPassword:async(e,t,n)=>{try{const r=await fetch(`${f}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:t,confirmPassword:n})}),s=await r.json();if(!r.ok)throw new Error(s.message||"Failed to reset password");return s}catch(r){throw console.error("Reset password error:",r),r}},changePassword:async(e,t,n)=>{try{if(!c)throw new Error("Authentication required");const r=await fetch(`${f}/auth/change-password`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:t,confirmPassword:n})}),s=await r.json();if(!r.ok)throw new Error(s.message||"Failed to change password");return m(),s}catch(r){throw console.error("Change password error:",r),r}},refreshAccessToken:g};return(0,Ie.jsx)(De.Provider,{value:y,children:t})},We=()=>{const e=(0,a.useContext)(De);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/app/dashboard";const{user:t,loading:n}=We(),r=re();return(0,a.useEffect)(()=>{!n&&t&&r(e,{replace:!0})},[t,n,r,e]),{isGuest:!t,loading:n}},Ve=()=>{const{forgotPassword:e,resetPassword:t,changePassword:n}=We(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null);return{handleForgotPassword:async t=>{s(!0),o(null),c(null);try{const n=await e(t);return c(n.message||"Password reset email sent successfully"),{success:!0,data:n}}catch(n){const e=n.message||"Failed to send reset email";return o(e),{success:!1,error:e}}finally{s(!1)}},handleResetPassword:async(e,n,r)=>{s(!0),o(null),c(null);try{const s=await t(e,n,r);return c(s.message||"Password reset successfully"),{success:!0,data:s}}catch(a){const e=a.message||"Failed to reset password";return o(e),{success:!1,error:e}}finally{s(!1)}},handleChangePassword:async(e,t,r)=>{s(!0),o(null),c(null);try{const s=await n(e,t,r);return c(s.message||"Password changed successfully"),{success:!0,data:s}}catch(a){const e=a.message||"Failed to change password";return o(e),{success:!1,error:e}}finally{s(!1)}},isLoading:r,error:i,success:l,clearMessages:()=>{o(null),c(null)}}},Ke=()=>{const{profile:e,updateProfile:t,user:n}=We(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null);return{profile:e,user:n,handleUpdateProfile:async e=>{s(!0),o(null);try{return{success:!0,data:await t(e)}}catch(n){const e=n.message||"Failed to update profile";return o(e),{success:!1,error:e}}finally{s(!1)}},isLoading:r,error:i,clearError:()=>o(null)}},Je=()=>{const{user:e,loading:t,accessToken:n}=We();return{isAuthenticated:!!e,isLoading:t,user:e,hasToken:!!n,userType:null===e||void 0===e?void 0:e.userType,isVerified:null===e||void 0===e?void 0:e.isVerified}},Ge=e=>{let{children:t,allowedRoles:n=[]}=e;const r=te(),{isAuthenticated:s,loading:i,user:o}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login";const{user:t,loading:n}=We(),r=re(),s=te();return(0,a.useEffect)(()=>{n||t||r(e,{state:{from:s},replace:!0})},[t,n,r,e,s]),{isAuthenticated:!!t,loading:n,user:t}}(),{hasAccess:l}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{user:t,loading:n}=We();return{hasAccess:!n&&!!t&&(0===e.length||e.includes(t.userType)),checkAccess:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return!!t&&(0===n.length||n.includes(t.userType))},userRole:null===t||void 0===t?void 0:t.userType,loading:n}}(n);return i?(0,Ie.jsx)("div",{className:"loading-container",children:(0,Ie.jsxs)("div",{className:"loading-spinner",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Verifying authentication..."})]})}):s?n.length>0&&!l?(0,Ie.jsx)("div",{className:"access-denied",children:(0,Ie.jsxs)("div",{className:"access-denied__content",children:[(0,Ie.jsx)("h2",{children:"Access Denied"}),(0,Ie.jsx)("p",{children:"You don't have permission to access this page."}),(0,Ie.jsxs)("p",{children:["Required roles: ",n.join(", ")]}),(0,Ie.jsxs)("p",{children:["Your role: ",null===o||void 0===o?void 0:o.userType]})]})}):t:(0,Ie.jsx)(ye,{to:"/login",state:{from:r},replace:!0})},Qe=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),Ye=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H16V18H8V11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.4,8.7 10.4,10V11H13.6V10C13.6,8.7 12.8,8.2 12,8.2Z"})}),Xe=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),Ze=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})}),et=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),tt=e=>{let{children:t,variant:n="primary",size:r="md",disabled:s=!1,loading:a=!1,icon:i=null,iconPosition:o="left",fullWidth:l=!1,className:c="",onClick:u,type:d="button",...h}=e;const f=["btn",`btn--${n}`,`btn--${r}`,[s&&"btn--disabled",a&&"btn--loading",l&&"btn--full-width",i&&"btn--with-icon"].filter(Boolean).join(" "),c].filter(Boolean).join(" ");return(0,Ie.jsxs)("button",{type:d,className:f,onClick:e=>{s||a||null===u||void 0===u||u(e)},disabled:s||a,...h,children:[a&&(0,Ie.jsx)("div",{className:"btn__spinner",children:(0,Ie.jsx)("div",{className:"spinner"})}),!a&&i&&"left"===o&&(0,Ie.jsx)("span",{className:"btn__icon btn__icon--left",children:i}),(0,Ie.jsx)("span",{className:"btn__content",children:t}),!a&&i&&"right"===o&&(0,Ie.jsx)("span",{className:"btn__icon btn__icon--right",children:i})]})},nt=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),rt=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),st=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 7H16c-.8 0-1.54.37-2 1l-3 4v6h2v7h3v-7h4z"})}),at=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),it=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})}),ot=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"})}),lt=()=>(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})}),ct=()=>(0,Ie.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),ut=()=>{var e,t;const[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1),{isAuthenticated:c,user:u,userType:d}=Je(),h=u,{handleLogout:f,isLoading:p}=(()=>{const{logout:e}=We(),t=re(),[n,r]=(0,a.useState)(!1);return{handleLogout:async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";r(!0);try{await e(),t(n,{replace:!0})}catch(s){console.error("Logout error:",s),t(n,{replace:!0})}finally{r(!1)}},isLoading:n}})(),m=te(),v=(re(),()=>{r(!n)}),g=()=>{l(!o)},y=e=>m.pathname===e;(0,a.useEffect)(()=>{i([{id:1,type:"request",title:"New Blood Request",message:"Emergency request for O+ blood nearby",time:"2 min ago",unread:!0},{id:2,type:"donation",title:"Donation Confirmed",message:"Your donation has been confirmed for tomorrow",time:"1 hour ago",unread:!0},{id:3,type:"reminder",title:"Health Checkup",message:"Time for your monthly health checkup",time:"2 hours ago",unread:!1}])},[]);const b=s.filter(e=>e.unread).length;return u?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("nav",{className:"navbar navbar--authenticated",children:[(0,Ie.jsxs)("div",{className:"navbar__container",children:[(0,Ie.jsxs)(Oe,{to:"/app/dashboard",className:"navbar__brand",children:[(0,Ie.jsx)("div",{className:"navbar__logo",children:(0,Ie.jsx)(Qe,{})}),(0,Ie.jsx)("span",{className:"navbar__title",children:"Blood Warriors"})]}),(0,Ie.jsxs)("div",{className:"navbar__nav",children:[(0,Ie.jsxs)(Oe,{to:"/app/dashboard",className:"navbar__link "+(y("/app/dashboard")?"navbar__link--active":""),children:[(0,Ie.jsx)(nt,{}),(0,Ie.jsx)("span",{children:"Dashboard"})]}),(0,Ie.jsxs)(Oe,{to:"/app/requests",className:"navbar__link "+(y("/app/requests")?"navbar__link--active":""),children:[(0,Ie.jsx)(rt,{}),(0,Ie.jsx)("span",{children:"Requests"})]}),(0,Ie.jsxs)(Oe,{to:"/app/donors",className:"navbar__link "+(y("/app/donors")?"navbar__link--active":""),children:[(0,Ie.jsx)(st,{}),(0,Ie.jsx)("span",{children:"Donors"})]}),(0,Ie.jsxs)(Oe,{to:"/app/profile",className:"navbar__link "+(y("/app/profile")?"navbar__link--active":""),children:[(0,Ie.jsx)(at,{}),(0,Ie.jsx)("span",{children:"Profile"})]})]}),(0,Ie.jsxs)("div",{className:"navbar__actions",children:[(0,Ie.jsx)(Oe,{to:"/app/sos",children:(0,Ie.jsx)(tt,{variant:"sos",size:"sm",icon:(0,Ie.jsx)(Qe,{}),children:"SOS"})}),(0,Ie.jsxs)("div",{className:"navbar__notifications",children:[(0,Ie.jsxs)("button",{className:"navbar__notification-btn",onClick:g,children:[(0,Ie.jsx)(Ze,{}),b>0&&(0,Ie.jsx)("span",{className:"navbar__notification-badge",children:b})]}),o&&(0,Ie.jsxs)("div",{className:"navbar__notification-dropdown",children:[(0,Ie.jsxs)("div",{className:"notification-dropdown__header",children:[(0,Ie.jsx)("h3",{children:"Notifications"}),(0,Ie.jsx)("button",{className:"notification-dropdown__close",onClick:g,children:"\xd7"})]}),(0,Ie.jsx)("div",{className:"notification-dropdown__list",children:s.length>0?s.map(e=>(0,Ie.jsxs)("div",{className:"notification-item "+(e.unread?"notification-item--unread":""),children:[(0,Ie.jsxs)("div",{className:"notification-item__icon",children:["request"===e.type&&"\ud83e\ude78","donation"===e.type&&"\u2705","reminder"===e.type&&"\u23f0"]}),(0,Ie.jsxs)("div",{className:"notification-item__content",children:[(0,Ie.jsx)("h4",{className:"notification-item__title",children:e.title}),(0,Ie.jsx)("p",{className:"notification-item__message",children:e.message}),(0,Ie.jsx)("span",{className:"notification-item__time",children:e.time})]})]},e.id)):(0,Ie.jsx)("div",{className:"notification-dropdown__empty",children:(0,Ie.jsx)("p",{children:"No notifications"})})}),(0,Ie.jsx)("div",{className:"notification-dropdown__footer",children:(0,Ie.jsx)(Oe,{to:"/app/notifications",onClick:g,children:"View All Notifications"})})]})]}),(0,Ie.jsxs)("div",{className:"navbar__user",children:[(0,Ie.jsxs)("button",{className:"navbar__user-btn",onClick:v,children:[(0,Ie.jsx)("div",{className:"navbar__avatar",children:(null===h||void 0===h||null===(e=h.name)||void 0===e?void 0:e.charAt(0))||u.email.charAt(0)}),(0,Ie.jsx)("span",{className:"navbar__user-name",children:(null===h||void 0===h?void 0:h.name)||u.email.split("@")[0]}),(0,Ie.jsx)(ct,{})]}),n&&(0,Ie.jsxs)("div",{className:"navbar__user-dropdown",children:[(0,Ie.jsxs)("div",{className:"user-dropdown__header",children:[(0,Ie.jsx)("div",{className:"user-dropdown__avatar",children:(null===h||void 0===h||null===(t=h.name)||void 0===t?void 0:t.charAt(0))||u.email.charAt(0)}),(0,Ie.jsxs)("div",{className:"user-dropdown__info",children:[(0,Ie.jsx)("h4",{children:(null===h||void 0===h?void 0:h.name)||"User"}),(0,Ie.jsx)("p",{children:u.email}),(null===h||void 0===h?void 0:h.blood_group)&&(0,Ie.jsx)("span",{className:"user-dropdown__blood-group",children:h.blood_group})]})]}),(0,Ie.jsxs)("div",{className:"user-dropdown__menu",children:[(0,Ie.jsxs)(Oe,{to:"/app/profile",className:"user-dropdown__item",onClick:v,children:[(0,Ie.jsx)(at,{}),(0,Ie.jsx)("span",{children:"My Profile"})]}),(0,Ie.jsxs)(Oe,{to:"/app/settings",className:"user-dropdown__item",onClick:v,children:[(0,Ie.jsx)(it,{}),(0,Ie.jsx)("span",{children:"Settings"})]}),(0,Ie.jsxs)(Oe,{to:"/app/help",className:"user-dropdown__item",onClick:v,children:[(0,Ie.jsx)(ot,{}),(0,Ie.jsx)("span",{children:"Help & Support"})]}),(0,Ie.jsx)("hr",{className:"user-dropdown__divider"}),(0,Ie.jsxs)("button",{className:"user-dropdown__item user-dropdown__item--danger",onClick:async()=>{await f("/")},disabled:p,children:[(0,Ie.jsx)(lt,{}),(0,Ie.jsx)("span",{children:p?"Signing Out...":"Sign Out"})]})]})]})]}),(0,Ie.jsxs)("button",{className:"navbar__mobile-toggle",onClick:v,children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]})]})]}),(0,Ie.jsx)("div",{className:"navbar__mobile "+(n?"navbar__mobile--open":""),children:(0,Ie.jsxs)("div",{className:"navbar__mobile-nav",children:[(0,Ie.jsxs)(Oe,{to:"/app/dashboard",className:"navbar__mobile-link "+(y("/app/dashboard")?"navbar__mobile-link--active":""),onClick:v,children:[(0,Ie.jsx)(nt,{}),(0,Ie.jsx)("span",{children:"Dashboard"})]}),(0,Ie.jsxs)(Oe,{to:"/app/requests",className:"navbar__mobile-link "+(y("/app/requests")?"navbar__mobile-link--active":""),onClick:v,children:[(0,Ie.jsx)(rt,{}),(0,Ie.jsx)("span",{children:"Requests"})]}),(0,Ie.jsxs)(Oe,{to:"/app/donors",className:"navbar__mobile-link "+(y("/app/donors")?"navbar__mobile-link--active":""),onClick:v,children:[(0,Ie.jsx)(st,{}),(0,Ie.jsx)("span",{children:"Donors"})]}),(0,Ie.jsxs)(Oe,{to:"/app/profile",className:"navbar__mobile-link "+(y("/app/profile")?"navbar__mobile-link--active":""),onClick:v,children:[(0,Ie.jsx)(at,{}),(0,Ie.jsx)("span",{children:"Profile"})]})]})})]}),(n||o)&&(0,Ie.jsx)("div",{className:"navbar__overlay",onClick:()=>{r(!1),l(!1)}})]}):(0,Ie.jsx)("nav",{className:"navbar navbar--public",children:(0,Ie.jsxs)("div",{className:"navbar__container",children:[(0,Ie.jsxs)(Oe,{to:"/",className:"navbar__brand",children:[(0,Ie.jsx)("div",{className:"navbar__logo",children:(0,Ie.jsx)(Qe,{})}),(0,Ie.jsx)("span",{className:"navbar__title",children:"Blood Warriors"})]}),(0,Ie.jsxs)("div",{className:"navbar__actions",children:[(0,Ie.jsx)(Oe,{to:"/login",children:(0,Ie.jsx)(tt,{variant:"ghost",size:"sm",children:"Sign In"})}),(0,Ie.jsx)(Oe,{to:"/register",children:(0,Ie.jsx)(tt,{variant:"primary",size:"sm",children:"Join Now"})})]})]})})};class dt extends a.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,Ie.jsx)("div",{className:"error-boundary",children:(0,Ie.jsxs)("div",{className:"error-boundary__container",children:[(0,Ie.jsx)("div",{className:"error-boundary__icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("h1",{className:"error-boundary__title",children:"Something went wrong"}),(0,Ie.jsx)("p",{className:"error-boundary__message",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,(0,Ie.jsxs)("div",{className:"error-boundary__actions",children:[(0,Ie.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Refresh Page"}),(0,Ie.jsx)("button",{className:"btn btn-secondary",onClick:()=>window.location.href="/",children:"Go Home"})]})]})}):this.props.children}}const ht=dt,ft=()=>{var e;re();const t=te(),{isGuest:n,loading:r}=He(),{handleLogin:s,isLoading:i,error:o,clearError:l}=(()=>{const{login:e}=We(),t=re(),n=te(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null);return{handleLogin:async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rememberMe:i=!1,redirectTo:l}=a;s(!0),o(null);try{var c,u;await e(r.email,r.password,i);const s=(null===(c=n.state)||void 0===c||null===(u=c.from)||void 0===u?void 0:u.pathname)||l||"/app/dashboard";return t(s,{replace:!0}),{success:!0}}catch(d){const e=d.message||"Login failed";return o(e),{success:!1,error:e}}finally{s(!1)}},isLoading:r,error:i,clearError:()=>o(null)}})(),[c,u]=(0,a.useState)({email:"",password:"",rememberMe:!1}),[d,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)({});(0,a.useEffect)(()=>{o&&l(),p({})},[c.email,c.password]);const m=null===(e=t.state)||void 0===e?void 0:e.message,v=e=>{const{name:t,value:n,type:r,checked:s}=e.target;u(e=>({...e,[t]:"checkbox"===r?s:n}))};return r?(0,Ie.jsx)("div",{className:"auth-page",children:(0,Ie.jsxs)("div",{className:"auth-loading",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Loading..."})]})}):(0,Ie.jsxs)("div",{className:"auth-page",children:[(0,Ie.jsx)("div",{className:"auth-hero",children:(0,Ie.jsxs)("div",{className:"auth-hero__content",children:[(0,Ie.jsxs)("div",{className:"auth-hero__badge",children:[(0,Ie.jsx)(Qe,{}),(0,Ie.jsx)("span",{children:"Blood Warriors"})]}),(0,Ie.jsxs)("h1",{className:"auth-hero__title",children:["Saving Lives,",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("span",{className:"text-gradient",children:"One Drop at a Time"})]}),(0,Ie.jsx)("p",{className:"auth-hero__subtitle",children:"Join the fight against Thalassemia. Connect with donors, access emergency support, and be part of a community that cares."}),(0,Ie.jsxs)("div",{className:"auth-hero__stats",children:[(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"1000+"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Lives Saved"})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"500+"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Active Donors"})]}),(0,Ie.jsxs)("div",{className:"stat-item",children:[(0,Ie.jsx)("div",{className:"stat-number",children:"24/7"}),(0,Ie.jsx)("div",{className:"stat-label",children:"Emergency Support"})]})]})]})}),(0,Ie.jsx)("div",{className:"auth-form-container",children:(0,Ie.jsxs)("div",{className:"auth-form",children:[(0,Ie.jsxs)("div",{className:"auth-form__header",children:[(0,Ie.jsx)("div",{className:"auth-form__icon",children:(0,Ie.jsx)(Ye,{})}),(0,Ie.jsx)("h2",{className:"auth-form__title",children:"Welcome Back"}),(0,Ie.jsx)("p",{className:"auth-form__subtitle",children:"Sign in to access your Blood Warriors account"})]}),m&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--success",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u2705"}),(0,Ie.jsx)("span",{children:m})]}),o&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--error",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{children:o})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e={};return c.email?/\S+@\S+\.\S+/.test(c.email)||(e.email="Please enter a valid email address"):e.email="Email is required",c.password||(e.password="Password is required"),p(e),0===Object.keys(e).length})())return;(await s({email:c.email,password:c.password},{rememberMe:c.rememberMe})).success&&console.log("Login successful")},className:"auth-form__form",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"email",className:"form-field__label",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"email",id:"email",name:"email",className:"form-field__input "+(f.email?"form-field__input--error":""),value:c.email,onChange:v,placeholder:"Enter your email address",required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]}),f.email&&(0,Ie.jsx)("div",{className:"form-field__error",children:f.email})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"password",className:"form-field__label",children:"Password"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:d?"text":"password",id:"password",name:"password",className:"form-field__input "+(f.password?"form-field__input--error":""),value:c.password,onChange:v,placeholder:"Enter your password",required:!0}),(0,Ie.jsx)("button",{type:"button",className:"form-field__toggle-password",onClick:()=>{h(!d)},"aria-label":d?"Hide password":"Show password",children:d?(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),f.password&&(0,Ie.jsx)("div",{className:"form-field__error",children:f.password})]}),(0,Ie.jsxs)("div",{className:"form-field form-field--checkbox",children:[(0,Ie.jsxs)("label",{className:"checkbox-label",children:[(0,Ie.jsx)("input",{type:"checkbox",name:"rememberMe",checked:c.rememberMe,onChange:v,className:"checkbox-input"}),(0,Ie.jsx)("span",{className:"checkbox-custom"}),(0,Ie.jsx)("span",{className:"checkbox-text",children:"Remember me for 7 days"})]}),(0,Ie.jsx)(Oe,{to:"/forgot-password",className:"forgot-password-link",children:"Forgot password?"})]}),(0,Ie.jsx)("div",{className:"form-field",children:(0,Ie.jsx)(tt,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:i,disabled:i,icon:(0,Ie.jsx)(Ye,{}),children:i?"Signing In...":"Sign In"})})]}),(0,Ie.jsx)("div",{className:"auth-form__divider",children:(0,Ie.jsx)("span",{children:"or"})}),(0,Ie.jsxs)("div",{className:"auth-form__footer",children:[(0,Ie.jsxs)("p",{className:"auth-form__link-text",children:["Don't have an account?"," ",(0,Ie.jsx)(Oe,{to:"/register",className:"auth-form__link",children:"Create your account"})]}),(0,Ie.jsxs)("p",{className:"auth-form__help",children:["Need help? ",(0,Ie.jsx)("a",{href:"#",className:"auth-form__link",children:"Contact Support"})]})]})]})})]})};function pt(e,t){return function(){return e.apply(t,arguments)}}const{toString:mt}=Object.prototype,{getPrototypeOf:vt}=Object,{iterator:gt,toStringTag:yt}=Symbol,bt=(_t=Object.create(null),e=>{const t=mt.call(e);return _t[t]||(_t[t]=t.slice(8,-1).toLowerCase())});var _t;const wt=e=>(e=e.toLowerCase(),t=>bt(t)===e),xt=e=>t=>typeof t===e,{isArray:jt}=Array,kt=xt("undefined");function Nt(e){return null!==e&&!kt(e)&&null!==e.constructor&&!kt(e.constructor)&&Ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const St=wt("ArrayBuffer");const Et=xt("string"),Ct=xt("function"),Pt=xt("number"),Tt=e=>null!==e&&"object"===typeof e,Ot=e=>{if("object"!==bt(e))return!1;const t=vt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(yt in e)&&!(gt in e)},Rt=wt("Date"),At=wt("File"),Lt=wt("Blob"),It=wt("FileList"),Dt=wt("URLSearchParams"),[$t,Ft,Ut,Bt]=["ReadableStream","Request","Response","Headers"].map(wt);function zt(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),jt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Nt(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function qt(e,t){if(Nt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Wt=e=>!kt(e)&&e!==Mt;const Ht=(Vt="undefined"!==typeof Uint8Array&&vt(Uint8Array),e=>Vt&&e instanceof Vt);var Vt;const Kt=wt("HTMLFormElement"),Jt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Gt=wt("RegExp"),Qt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};zt(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const Yt=wt("AsyncFunction"),Xt=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Mt.addEventListener("message",e=>{let{source:t,data:s}=e;t===Mt&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Mt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ct(Mt.postMessage)),Zt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Mt):"undefined"!==typeof process&&process.nextTick||Xt,en={isArray:jt,isArrayBuffer:St,isBuffer:Nt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ct(e.append)&&("formdata"===(t=bt(e))||"object"===t&&Ct(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&St(e.buffer),t},isString:Et,isNumber:Pt,isBoolean:e=>!0===e||!1===e,isObject:Tt,isPlainObject:Ot,isEmptyObject:e=>{if(!Tt(e)||Nt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(jo){return!1}},isReadableStream:$t,isRequest:Ft,isResponse:Ut,isHeaders:Bt,isUndefined:kt,isDate:Rt,isFile:At,isBlob:Lt,isRegExp:Gt,isFunction:Ct,isStream:e=>Tt(e)&&Ct(e.pipe),isURLSearchParams:Dt,isTypedArray:Ht,isFileList:It,forEach:zt,merge:function e(){const{caseless:t}=Wt(this)&&this||{},n={},r=(r,s)=>{const a=t&&qt(n,s)||s;Ot(n[a])&&Ot(r)?n[a]=e(n[a],r):Ot(r)?n[a]=e({},r):jt(r)?n[a]=r.slice():n[a]=r};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&zt(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return zt(t,(t,r)=>{n&&Ct(t)?e[r]=pt(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&vt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bt,kindOfTest:wt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(jt(e))return e;let t=e.length;if(!Pt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[gt]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Kt,hasOwnProperty:Jt,hasOwnProp:Jt,reduceDescriptors:Qt,freezeMethods:e=>{Qt(e,(t,n)=>{if(Ct(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ct(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return jt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:qt,global:Mt,isContextDefined:Wt,isSpecCompliantForm:function(e){return!!(e&&Ct(e.append)&&"FormData"===e[yt]&&e[gt])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Tt(e)){if(t.indexOf(e)>=0)return;if(Nt(e))return e;if(!("toJSON"in e)){t[r]=e;const s=jt(e)?[]:{};return zt(e,(e,t)=>{const a=n(e,r+1);!kt(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Yt,isThenable:e=>e&&(Tt(e)||Ct(e))&&Ct(e.then)&&Ct(e.catch),setImmediate:Xt,asap:Zt,isIterable:e=>null!=e&&Ct(e[gt])};function tn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}en.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:en.toJSONObject(this.config),code:this.code,status:this.status}}});const nn=tn.prototype,rn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rn[e]={value:e}}),Object.defineProperties(tn,rn),Object.defineProperty(nn,"isAxiosError",{value:!0}),tn.from=(e,t,n,r,s,a)=>{const i=Object.create(nn);return en.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),tn.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const sn=tn;function an(e){return en.isPlainObject(e)||en.isArray(e)}function on(e){return en.endsWith(e,"[]")?e.slice(0,-2):e}function ln(e,t,n){return e?e.concat(t).map(function(e,t){return e=on(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const cn=en.toFlatObject(en,{},null,function(e){return/^is[A-Z]/.test(e)});const un=function(e,t,n){if(!en.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=en.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!en.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&en.isSpecCompliantForm(t);if(!en.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(en.isDate(e))return e.toISOString();if(en.isBoolean(e))return e.toString();if(!o&&en.isBlob(e))throw new sn("Blob is not supported. Use a Buffer instead.");return en.isArrayBuffer(e)||en.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(en.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(en.isArray(e)&&function(e){return en.isArray(e)&&!e.some(an)}(e)||(en.isFileList(e)||en.endsWith(n,"[]"))&&(o=en.toArray(e)))return n=on(n),o.forEach(function(e,r){!en.isUndefined(e)&&null!==e&&t.append(!0===i?ln([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!an(e)||(t.append(ln(s,n,a),l(e)),!1)}const u=[],d=Object.assign(cn,{defaultVisitor:c,convertValue:l,isVisitable:an});if(!en.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!en.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),en.forEach(n,function(n,a){!0===(!(en.isUndefined(n)||null===n)&&s.call(t,n,en.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function dn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function hn(e,t){this._pairs=[],e&&un(e,this,t)}const fn=hn.prototype;fn.append=function(e,t){this._pairs.push([e,t])},fn.toString=function(e){const t=e?function(t){return e.call(this,t,dn)}:dn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const pn=hn;function mn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vn(e,t,n){if(!t)return e;const r=n&&n.encode||mn;en.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):en.isURLSearchParams(t)?t.toString():new pn(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const gn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){en.forEach(this.handlers,function(t){null!==t&&e(t)})}},yn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:pn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},_n="undefined"!==typeof window&&"undefined"!==typeof document,wn="object"===typeof navigator&&navigator||void 0,xn=_n&&(!wn||["ReactNative","NativeScript","NS"].indexOf(wn.product)<0),jn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,kn=_n&&window.location.href||"http://localhost",Nn={...r,...bn};const Sn=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&en.isArray(r)?r.length:a,o)return en.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&en.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&en.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(en.isFormData(e)&&en.isFunction(e.entries)){const n={};return en.forEachEntry(e,(e,r)=>{t(function(e){return en.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const En={transitional:yn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=en.isObject(e);s&&en.isHTMLForm(e)&&(e=new FormData(e));if(en.isFormData(e))return r?JSON.stringify(Sn(e)):e;if(en.isArrayBuffer(e)||en.isBuffer(e)||en.isStream(e)||en.isFile(e)||en.isBlob(e)||en.isReadableStream(e))return e;if(en.isArrayBufferView(e))return e.buffer;if(en.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return un(e,new Nn.classes.URLSearchParams,{visitor:function(e,t,n,r){return Nn.isNode&&en.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=en.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return un(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(en.isString(e))try{return(t||JSON.parse)(e),en.trim(e)}catch(jo){if("SyntaxError"!==jo.name)throw jo}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||En.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(en.isResponse(e)||en.isReadableStream(e))return e;if(e&&en.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(jo){if(n){if("SyntaxError"===jo.name)throw sn.from(jo,sn.ERR_BAD_RESPONSE,this,null,this.response);throw jo}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};en.forEach(["delete","get","head","post","put","patch"],e=>{En.headers[e]={}});const Cn=En,Pn=en.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tn=Symbol("internals");function On(e){return e&&String(e).trim().toLowerCase()}function Rn(e){return!1===e||null==e?e:en.isArray(e)?e.map(Rn):String(e)}function An(e,t,n,r,s){return en.isFunction(r)?r.call(this,t,n):(s&&(t=n),en.isString(t)?en.isString(r)?-1!==t.indexOf(r):en.isRegExp(r)?r.test(t):void 0:void 0)}class Ln{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=On(t);if(!s)throw new Error("header name must be a non-empty string");const a=en.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Rn(e))}const a=(e,t)=>en.forEach(e,(e,n)=>s(e,n,t));if(en.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(en.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Pn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(en.isObject(e)&&en.isIterable(e)){let n,r,s={};for(const t of e){if(!en.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?en.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=On(e)){const n=en.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(en.isFunction(t))return t.call(this,e,n);if(en.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=On(e)){const n=en.findKey(this,e);return!(!n||void 0===this[n]||t&&!An(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=On(e)){const s=en.findKey(n,e);!s||t&&!An(0,n[s],s,t)||(delete n[s],r=!0)}}return en.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!An(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return en.forEach(this,(r,s)=>{const a=en.findKey(n,s);if(a)return t[a]=Rn(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=Rn(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return en.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&en.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Tn]=this[Tn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=On(e);t[r]||(!function(e,t){const n=en.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return en.isArray(e)?e.forEach(r):r(e),this}}Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),en.reduceDescriptors(Ln.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),en.freezeMethods(Ln);const In=Ln;function Dn(e,t){const n=this||Cn,r=t||n,s=In.from(r.headers);let a=r.data;return en.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function $n(e){return!(!e||!e.__CANCEL__)}function Fn(e,t,n){sn.call(this,null==e?"canceled":e,sn.ERR_CANCELED,t,n),this.name="CanceledError"}en.inherits(Fn,sn,{__CANCEL__:!0});const Un=Fn;function Bn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new sn("Request failed with status code "+n.status,[sn.ERR_BAD_REQUEST,sn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const zn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];s||(s=l),n[a]=o,r[a]=l;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const qn=function(e,t){let n,r,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},a-t)))},()=>n&&i(n)]},Mn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=zn(50,250);return qn(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Wn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Hn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return en.asap(()=>e(...n))},Vn=Nn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Nn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,Kn=Nn.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const i=[e+"="+encodeURIComponent(t)];en.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),en.isString(r)&&i.push("path="+r),en.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Jn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Gn=e=>e instanceof In?{...e}:e;function Qn(e,t){t=t||{};const n={};function r(e,t,n,r){return en.isPlainObject(e)&&en.isPlainObject(t)?en.merge.call({caseless:r},e,t):en.isPlainObject(t)?en.merge({},t):en.isArray(t)?t.slice():t}function s(e,t,n,s){return en.isUndefined(t)?en.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!en.isUndefined(t))return r(void 0,t)}function i(e,t){return en.isUndefined(t)?en.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(Gn(e),Gn(t),0,!0)};return en.forEach(Object.keys({...e,...t}),function(r){const a=l[r]||s,i=a(e[r],t[r],r);en.isUndefined(i)&&a!==o||(n[r]=i)}),n}const Yn=e=>{const t=Qn({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=In.from(o),t.url=vn(Jn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),en.isFormData(r))if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Nn.hasStandardBrowserEnv&&(s&&en.isFunction(s)&&(s=s(t)),s||!1!==s&&Vn(t.url))){const e=a&&i&&Kn.read(i);e&&o.set(a,e)}return t},Xn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Yn(e);let s=r.data;const a=In.from(r.headers).normalize();let i,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=In.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Bn(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new sn("Request aborted",sn.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new sn("Network Error",sn.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||yn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new sn(t,s.clarifyTimeoutError?sn.ETIMEDOUT:sn.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&en.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),en.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Mn(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Mn(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Un(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Nn.protocols.indexOf(g)?n(new sn("Unsupported protocol "+g+":",sn.ERR_BAD_REQUEST,e)):m.send(s||null)})},Zn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof sn?t:new Un(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new sn(`timeout ${t} of ms exceeded`,sn.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>en.asap(i),o}},er=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},tr=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},nr=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of tr(e))yield*er(n,t)}(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},rr="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,sr=rr&&"function"===typeof ReadableStream,ar=rr&&("function"===typeof TextEncoder?(ir=new TextEncoder,e=>ir.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ir;const or=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(jo){return!1}},lr=sr&&or(()=>{let e=!1;const t=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),cr=sr&&or(()=>en.isReadableStream(new Response("").body)),ur={stream:cr&&(e=>e.body)};var dr;rr&&(dr=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ur[e]&&(ur[e]=en.isFunction(dr[e])?t=>t[e]():(t,n)=>{throw new sn(`Response type '${e}' is not supported`,sn.ERR_NOT_SUPPORT,n)})}));const hr=async(e,t)=>{const n=en.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(en.isBlob(e))return e.size;if(en.isSpecCompliantForm(e)){const t=new Request(Nn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return en.isArrayBufferView(e)||en.isArrayBuffer(e)?e.byteLength:(en.isURLSearchParams(e)&&(e+=""),en.isString(e)?(await ar(e)).byteLength:void 0)})(t):n},fr=rr&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Yn(e);c=c?(c+"").toLowerCase():"text";let f,p=Zn([s,a&&a.toAbortSignal()],i);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&lr&&"get"!==n&&"head"!==n&&0!==(v=await hr(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(en.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Wn(v,Mn(Hn(l)));r=nr(n.body,65536,e,t)}}en.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let a=await fetch(f,h);const i=cr&&("stream"===c||"response"===c);if(cr&&(o||i&&m)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=en.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&Wn(t,Mn(Hn(o),!0))||[];a=new Response(nr(a.body,65536,n,()=>{r&&r(),m&&m()}),e)}c=c||"text";let g=await ur[en.findKey(ur,c)||"text"](a,e);return!i&&m&&m(),await new Promise((t,n)=>{Bn(t,n,{data:g,headers:In.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:f})})}catch(g){if(m&&m(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new sn("Network Error",sn.ERR_NETWORK,e,f),{cause:g.cause||g});throw sn.from(g,g&&g.code,e,f)}}),pr={http:null,xhr:Xn,fetch:fr};en.forEach(pr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(jo){}Object.defineProperty(e,"adapterName",{value:t})}});const mr=e=>`- ${e}`,vr=e=>en.isFunction(e)||null===e||!1===e,gr=e=>{e=en.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!vr(n)&&(r=pr[(t=String(n)).toLowerCase()],void 0===r))throw new sn(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+a]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(mr).join("\n"):" "+mr(e[0]):"as no adapter specified";throw new sn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function yr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Un(null,e)}function br(e){yr(e),e.headers=In.from(e.headers),e.data=Dn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return gr(e.adapter||Cn.adapter)(e).then(function(t){return yr(e),t.data=Dn.call(e,e.transformResponse,t),t.headers=In.from(t.headers),t},function(t){return $n(t)||(yr(e),t&&t.response&&(t.response.data=Dn.call(e,e.transformResponse,t.response),t.response.headers=In.from(t.response.headers))),Promise.reject(t)})}const _r="1.11.0",wr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xr={};wr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+_r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new sn(r(s," has been removed"+(t?" in "+t:"")),sn.ERR_DEPRECATED);return t&&!xr[s]&&(xr[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},wr.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const jr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new sn("option "+a+" must be "+n,sn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new sn("Unknown option "+a,sn.ERR_BAD_OPTION)}},validators:wr},kr=jr.validators;class Nr{constructor(e){this.defaults=e||{},this.interceptors={request:new gn,response:new gn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(jo){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Qn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&jr.assertOptions(n,{silentJSONParsing:kr.transitional(kr.boolean),forcedJSONParsing:kr.transitional(kr.boolean),clarifyTimeoutError:kr.transitional(kr.boolean)},!1),null!=r&&(en.isFunction(r)?t.paramsSerializer={serialize:r}:jr.assertOptions(r,{encode:kr.function,serialize:kr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jr.assertOptions(t,{baseUrl:kr.spelling("baseURL"),withXsrfToken:kr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&en.merge(s.common,s[t.method]);s&&en.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=In.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[br.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=br.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return vn(Jn((e=Qn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}en.forEach(["delete","get","head","options"],function(e){Nr.prototype[e]=function(t,n){return this.request(Qn(n||{},{method:e,url:t,data:(n||{}).data}))}}),en.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(Qn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Nr.prototype[e]=t(),Nr.prototype[e+"Form"]=t(!0)});const Sr=Nr;class Er{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Un(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Er(function(t){e=t}),cancel:e}}}const Cr=Er;const Pr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pr).forEach(e=>{let[t,n]=e;Pr[n]=t});const Tr=Pr;const Or=function e(t){const n=new Sr(t),r=pt(Sr.prototype.request,n);return en.extend(r,Sr.prototype,n,{allOwnKeys:!0}),en.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Qn(t,n))},r}(Cn);Or.Axios=Sr,Or.CanceledError=Un,Or.CancelToken=Cr,Or.isCancel=$n,Or.VERSION=_r,Or.toFormData=un,Or.AxiosError=sn,Or.Cancel=Or.CanceledError,Or.all=function(e){return Promise.all(e)},Or.spread=function(e){return function(t){return e.apply(null,t)}},Or.isAxiosError=function(e){return en.isObject(e)&&!0===e.isAxiosError},Or.mergeConfig=Qn,Or.AxiosHeaders=In,Or.formToJSON=e=>Sn(en.isHTMLForm(e)?new FormData(e):e),Or.getAdapter=gr,Or.HttpStatusCode=Tr,Or.default=Or;const Rr=Or;class Ar extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Lr extends Ar{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ir extends Ar{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Dr extends Ar{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $r;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}($r||($r={}));var Fr=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ur{constructor(e){let{headers:t={},customFetch:r,region:s=$r.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Fr(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:a}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(i["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(i["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(l.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch(e=>{throw new Lr(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ir(u);if(!u.ok)throw new Dr(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Dr||r instanceof Ir?r.context:void 0}}})}}var Br=n(980);const{PostgrestClient:zr,PostgrestQueryBuilder:qr,PostgrestFilterBuilder:Mr,PostgrestTransformBuilder:Wr,PostgrestBuilder:Hr,PostgrestError:Vr}=Br;const Kr=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var Jr,Gr,Qr,Yr,Xr,Zr;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Jr||(Jr={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Gr||(Gr={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Qr||(Qr={})),function(e){e.websocket="websocket"}(Yr||(Yr={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Xr||(Xr={}));class es{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const i=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+s));a+=s;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class ts{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Zr||(Zr={}));const ns=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,s)=>(n[s]=rs(s,e,t,r),n),{})},rs=(e,t,n,r)=>{const s=t.find(t=>t.name===e),a=null===s||void 0===s?void 0:s.type,i=n[e];return a&&!r.includes(a)?ss(a,i):as(i)},ss=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return cs(t,n)}switch(e){case Zr.bool:return is(t);case Zr.float4:case Zr.float8:case Zr.int2:case Zr.int4:case Zr.int8:case Zr.numeric:case Zr.oid:return os(t);case Zr.json:case Zr.jsonb:return ls(t);case Zr.timestamp:return us(t);case Zr.abstime:case Zr.date:case Zr.daterange:case Zr.int4range:case Zr.int8range:case Zr.money:case Zr.reltime:case Zr.text:case Zr.time:case Zr.timestamptz:case Zr.timetz:case Zr.tsrange:case Zr.tstzrange:default:return as(t)}},as=e=>e,is=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},os=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ls=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cs=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(s){r=a?a.split(","):[]}return r.map(e=>ss(t,e))}return e},us=e=>"string"===typeof e?e.replace(" ","T"):e,ds=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class hs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fs,ps,ms,vs;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(fs||(fs={}));class gs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=gs.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=gs.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const s=this.cloneDeep(e),a=this.transformState(t),i={},o={};return this.map(s,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=s[e];if(n){const r=t.map(e=>e.presence_ref),s=n.map(e=>e.presence_ref),a=t.filter(e=>s.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(i[e]=a),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(s,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(t,r)=>{var s;const a=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let s=e[t];if(!s)return;const a=n.map(e=>e.presence_ref);s=s.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=s,r(t,s,n),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ps||(ps={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ms||(ms={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(vs||(vs={}));class ys{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new hs(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new ts(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gr.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new gs(this),this.broadcastEndpointURL=ds(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Gr.closed){const{config:{broadcast:s,presence:a,private:i}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(vs.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(vs.CLOSED));const o={},l={broadcast:s,presence:a,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,s=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<s;r++){const s=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=s,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Gr.errored,void(null===e||void 0===e||e(vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(vs.SUBSCRIBED))}null===e||void 0===e||e(vs.SUBSCRIBED)}).receive("error",t=>{this.state=Gr.errored,null===e||void 0===e||e(vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,s,a;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===a?void 0:a.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:a,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Gr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new hs(this,Qr.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new hs(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const a=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Qr;if(n&&[i,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(s=this.bindings[a])||void 0===s||s.filter(e=>{var n,r,s,i,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:a}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:a};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Gr.closed}_isJoined(){return this.state===Gr.joined}_isJoining(){return this.state===Gr.joining}_isLeaving(){return this.state===Gr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&ys.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qr.close,{},e)}_onError(e){this._on(Qr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ns(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ns(e.columns,e.old_record)),t}}const bs=()=>{};class _s{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bs,this.ref=0,this.logger=bs,this.conn=null,this.sendBuffer=[],this.serializer=new es,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${Yr.websocket}`,this.httpEndpoint=ds(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ts(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kr),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return Xr.Connecting;case Jr.open:return Xr.Open;case Jr.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new ys(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:s}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:"realtime-js/2.11.15"};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Qr.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:s}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qr.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class ws extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xs(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class js extends ws{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ks extends ws{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ns=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Ss=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Es=e=>{if(Array.isArray(e))return e.map(e=>Es(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const s=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[s]=Es(r)}),t};var Cs=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ts=(e,t,r)=>Cs(void 0,void 0,void 0,function*(){const s=yield Ns(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof s&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,s=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new js(Ps(n),r,s))}).catch(e=>{t(new ks(Ps(e),e))}):t(new ks(Ps(e),e))}),Os=(e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(s.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function Rs(e,t,n,r,s,a){return Cs(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,Os(t,r,s,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Ts(e,o,r))})})}function As(e,t,n,r){return Cs(this,void 0,void 0,function*(){return Rs(e,"GET",t,n,r)})}function Ls(e,t,n,r,s){return Cs(this,void 0,void 0,function*(){return Rs(e,"POST",t,r,s,n)})}function Is(e,t,n,r,s){return Cs(this,void 0,void 0,function*(){return Rs(e,"PUT",t,r,s,n)})}function Ds(e,t,n,r,s){return Cs(this,void 0,void 0,function*(){return Rs(e,"DELETE",t,r,s,n)})}var $s=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Fs={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Us={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ss(r)}uploadOrUpdate(e,t,n,r){return $s(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Us),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=n,i["cache-control"]=`max-age=${a.cacheControl}`,i["content-type"]=a.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?Is:Ls)(this.fetch,`${this.url}/object/${c}`,s,Object.assign({headers:i},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(s){if(xs(s))return{data:null,error:s};throw s}})}upload(e,t,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return $s(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${a}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Us.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);return{data:{path:s,fullPath:(yield Is(this.fetch,i.toString(),e,{headers:a})).Key},error:null}}catch(o){if(xs(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return $s(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield Ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+s.url),i=a.searchParams.get("token");if(!i)throw new ws("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:i},error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}update(e,t,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return $s(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}copy(e,t,n){return $s(this,void 0,void 0,function*(){try{return{data:{path:(yield Ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return $s(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Ls(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return $s(this,void 0,void 0,function*(){try{const r=yield Ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}download(e,t){return $s(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield As(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}info(e){return $s(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield As(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Es(e),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}exists(e){return $s(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Cs(this,void 0,void 0,function*(){return Rs(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xs(n)&&n instanceof ks){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return $s(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}})}list(e,t,n){return $s(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Fs),t),{prefix:e||""});return{data:yield Ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const zs={"X-Client-Info":"storage-js/2.10.4"};var qs=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ms{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const s=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."))}this.url=s.href,this.headers=Object.assign(Object.assign({},zs),t),this.fetch=Ss(n)}listBuckets(){return qs(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xs(e))return{data:null,error:e};throw e}})}getBucket(e){return qs(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return qs(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return qs(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}emptyBucket(e){return qs(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}})}deleteBucket(e){return qs(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(xs(t))return{data:null,error:t};throw t}})}}class Ws extends Ms{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Bs(this.url,this.headers,e,this.fetch)}}let Hs="";Hs="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Vs={headers:{"X-Client-Info":`supabase-js-${Hs}/2.53.0`}},Ks={schema:"public"},Js={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gs={};var Qs=n(630),Ys=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Xs=e=>{let t;return t=e||("undefined"===typeof fetch?Qs.default:fetch),function(){return t(...arguments)}},Zs=(e,t,n)=>{const r=Xs(n),s="undefined"===typeof Headers?Qs.Headers:Headers;return(n,a)=>Ys(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:l}))})};var ea=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const ta="2.71.1",na=3e4,ra=9e4,sa={"X-Client-Info":`gotrue-js/${ta}`},aa="X-Supabase-Api-Version",ia={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},oa=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class la extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function ca(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ua extends la{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class da extends la{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ha extends la{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class fa extends ha{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class pa extends ha{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ma extends ha{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class va extends ha{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ga extends ha{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends ha{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function ba(e){return ca(e)&&"AuthRetryableFetchError"===e.name}class _a extends ha{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class wa extends ha{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ja=" \t\n\r=".split(""),ka=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ja.length;t+=1)e[ja[t].charCodeAt(0)]=-2;for(let t=0;t<xa.length;t+=1)e[xa[t].charCodeAt(0)]=t;return e})();function Na(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xa[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(xa[e]),t.queuedBits-=6}}function Sa(e,t,n){const r=ka[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ea(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Sa(e.charCodeAt(i),s,a);return t.join("")}function Ca(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Pa(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Ca(r,t)}}function Ta(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let s=0;s<e.length;s+=1)Sa(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Oa(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Na(e,n,r)),Na(null,n,r),t.join("")}const Ra=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Aa={tested:!1,writable:!1},La=()=>{if(!Ra())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(jo){return!1}if(Aa.tested)return Aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Aa.tested=!0,Aa.writable=!0}catch(jo){Aa.tested=!0,Aa.writable=!1}return Aa.writable};const Ia=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Da=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$a=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Fa=async(e,t)=>{await e.removeItem(t)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Ba(e){const t=e.split(".");if(3!==t.length)throw new wa("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!oa.test(t[n]))throw new wa("JWT not in base64url format");return{header:JSON.parse(Ea(t[0])),payload:JSON.parse(Ea(t[1])),signature:Ta(t[2]),raw:{header:t[0],payload:t[1]}}}function za(e){return("0"+e.toString(16)).substr(-2)}async function qa(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ma(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,za).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Da(e,`${t}-code-verifier`,s);const a=await qa(r);return[a,r===a?"plain":"s256"]}Ua.promiseConstructor=Promise;const Wa=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Ha=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Va(e){if(!Ha.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ka(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ja(e){return JSON.parse(JSON.stringify(e))}var Ga=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ya=[502,503,504];async function Xa(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new ya(Qa(e),0);if(Ya.includes(e.status))throw new ya(Qa(e),e.status);let r,s;try{r=await e.json()}catch(jo){throw new da(Qa(jo),jo)}const a=function(e){const t=e.headers.get(aa);if(!t)return null;if(!t.match(Wa))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(jo){return null}}(e);if(a&&a.getTime()>=ia.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?s=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new _a(Qa(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new fa}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new _a(Qa(r),e.status,r.weak_password.reasons);throw new ua(Qa(r),e.status||500,s)}async function Za(e,t,n,r){var s;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[aa]||(a[aa]=ia.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const i=null!==(s=null===r||void 0===r?void 0:r.query)&&void 0!==s?s:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,a){const i=((e,t,n,r)=>{const s={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(jo){throw console.error(jo),new ya(Qa(jo),0)}o.ok||await Xa(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(jo){await Xa(jo)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ei(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ti(e){const t=ei(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ni(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ri(e){return{data:e,error:null}}function si(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=Ga(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},user:Object.assign({},i)},error:null}}function ai(e){return e}const ii=["global","local","others"];var oi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};class li{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Ia(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii[0];if(ii.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ii.join(", ")}`);try{return await Za(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ca(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Za(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ni})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=oi(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Za(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:si,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ca(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Za(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(t){if(ca(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,a,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Za(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:ai});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ca(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Va(e);try{return await Za(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(t){if(ca(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Va(e);try{return await Za(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ni})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Va(e);try{return await Za(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ni})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Va(e.userId);try{const{data:t,error:n}=await Za(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(ca(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Va(e.userId),Va(e.id);try{return{data:await Za(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ca(t))return{data:null,error:t};throw t}}}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ui=!!(globalThis&&La()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class di extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hi extends di{}async function fi(e,t,n){ui&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ui&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw ui&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hi(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ui)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(jo){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",jo)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ui&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ui&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(jo){"undefined"!==typeof self&&(self.globalThis=self)}}();const pi={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sa,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mi(e,t,n){return await n()}const vi={};class gi{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gi.nextInstanceID,gi.nextInstanceID+=1,this.instanceID>0&&Ra()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},pi),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new li({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ia(r.fetch),this.lock=r.lock||mi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ra()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=fi:this.lock=mi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:La()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ci(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ci(this.memoryStorage)),Ra()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(jo){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",jo)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=vi[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=vi[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${ta}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(jo){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ra()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return ca(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",i),await this._saveSession(a),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ca(t)?{error:t}:{error:new da("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await Za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ei}),{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(ca(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Ma(this.storage,this.storageKey)),s=await Za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},xform:ei})}else{if(!("phone"in e))throw new ma("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:i}=e;s=await Za(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ei})}}const{data:a,error:i}=s;if(i||!a)return{data:{user:null,session:null},error:i};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(ca(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await Za(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ti})}else{if(!("phone"in e))throw new ma("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await Za(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ti})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new pa}}catch(t){if(ca(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,s,a,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:v}=e;let g;if(Ra())if("object"===typeof h)g=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");g=e.solana}else{if("object"!==typeof h||!(null===v||void 0===v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=h}const y=new URL(null!==(t=null===v||void 0===v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in g&&g.signIn){const e=await g.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===v||void 0===v?void 0:v.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in g)||"function"!==typeof g.signMessage||!("publicKey"in g)||"object"!==typeof g||!g.publicKey||!("toBase58"in g.publicKey)||"function"!==typeof g.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${y.host} wants you to sign in with your Solana account:`,g.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${y.href}`,`Issued At: ${null!==(r=null===(n=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(s=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(a=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(i=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===i?void 0:i.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(o=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(l=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(u=null===(c=null===v||void 0===v?void 0:v.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await g.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Za(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Oa(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ei});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new pa}}catch(m){if(ca(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await $a(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:s}=await Za(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ei});if(await Fa(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new pa}}catch(s){if(ca(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:a}=e,i=await Za(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ei}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new pa}}catch(t){if(ca(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,a;try{if("email"in e){const{email:r,options:s}=e;let a=null,i=null;"pkce"===this.flowType&&([a,i]=await Ma(this.storage,this.storageKey));const{error:o}=await Za(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null===s||void 0===s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:a,code_challenge_method:i},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await Za(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new ma("You must provide either an email or phone number.")}catch(i){if(ca(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:i}=await Za(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ei});if(i)throw i;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(ca(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,a=null;return"pkce"===this.flowType&&([s,a]=await Ma(this.storage,this.storageKey)),await Za(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ri})}catch(s){if(ca(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new fa;const{error:r}=await Za(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ca(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:a}=await Za(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:a,error:i}=await Za(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:i}}throw new ma("You must provide either an email or phone number and a type")}catch(t){if(ca(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(jo){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(jo){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<ra;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await $a(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Ka()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Za(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async e=>{var t,n,r;const{data:s,error:a}=e;if(a)throw a;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Za(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ni}):{data:{user:null},error:new fa}})}catch(t){if(ca(t))return function(e){return ca(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new fa;const a=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Ma(this.storage,this.storageKey));const{data:l,error:c}=await Za(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:a.access_token,xform:ni});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ca(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fa;const t=Date.now()/1e3;let n=t,r=!0,s=null;const{payload:a}=Ba(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(ca(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new fa;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(ca(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ra())throw new va("No browser detected.");if(e.error||e.error_description||e.error_code)throw new va(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ga("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new va("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ga("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:a,expires_in:i,expires_at:o,token_type:l}=e;if(!s||!i||!a||!l)throw new va("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=na&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(s);if(m)throw m;const v={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(ca(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await $a(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return ca(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Ma(this.storage,this.storageKey,!0));try{return await Za(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(ca(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ca(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,s,a,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await Za(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Ra()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(ca(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)throw a;return await Za(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(ca(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Za(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ei})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&ba(t)&&Date.now()+n-s<na},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(jo){if(!r(s,jo))return void t(jo)}})()}))}catch(s){if(this._debug(t,"error",s),ca(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ra()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await $a(this.storage,this.storageKey);if(s&&this.userStorage){let t=await $a(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:s.user},await Da(this.userStorage,this.storageKey+"-user",t)),s.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Ka()}else if(s&&!s.user&&!s.user){const e=await $a(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await Fa(this.storage,this.storageKey+"-user"),await Da(this.storage,this.storageKey,s)):s.user=Ka()}if(this._debug(n,"session from storage",s),!this._isValidSession(s))return this._debug(n,"session is not valid"),void(null!==s&&await this._removeSession());const a=1e3*(null!==(t=s.expires_at)&&void 0!==t?t:1/0)-Date.now()<ra;if(this._debug(n,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:e}=await this._callRefreshToken(s.refresh_token);e&&(console.error(e),ba(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(s.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(s.user=e.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return this._debug(n,"error",s),void console.error(s)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new fa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ua;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new fa;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),ca(s)){const e={session:null,error:s};return ba(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(jo){r.push(jo)}});if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Da(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Ja(e);await Da(this.storage,this.storageKey,r)}else{const e=Ja(t);await Da(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Fa(this.storage,this.storageKey),await Fa(this.storage,this.storageKey+"-code-verifier"),await Fa(this.storage,this.storageKey+"-user"),this.userStorage&&await Fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ra()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(jo){console.error("removing visibilitychange callback failed",jo)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),na);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/na);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(jo){console.error("Auto refresh tick failed with error. This is likely a transient error.",jo)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(jo){if(!(jo.isAcquireTimeout||jo instanceof di))throw jo;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ra()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Ma(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Za(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ca(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Za(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(ca(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:i}=await Za(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:i})})}catch(t){if(ca(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await Za(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(ca(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ba(r.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:s}=await Za(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:s,signature:a,raw:{header:i,payload:o}}=Ba(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:s,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return Pa(e,e=>t.push(e)),new Uint8Array(t)}(`${i}.${o}`)))throw new wa("Invalid JWT signature");return{data:{claims:s,header:r,signature:a},error:null}}catch(n){if(ca(n))return{data:null,error:n};throw n}}}gi.nextInstanceID=0;const yi=gi;class bi extends yi{constructor(e){super(e)}}var _i=function(e,t,n,r){return new(n||(n=Promise))(function(s,a){function i(e){try{l(r.next(e))}catch(jo){a(jo)}}function o(e){try{l(r.throw(e))}catch(jo){a(jo)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class wi{constructor(e,t,n){var r,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u=function(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>ea(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Ks,realtime:Gs,auth:Object.assign(Object.assign({},Js),{storageKey:c}),global:Vs});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=u.global.headers)&&void 0!==s?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=Zs(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new zr(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Ws(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ur(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return _i(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bi({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _s(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}(function(){if("undefined"!==typeof window||"undefined"===typeof process||void 0===process.version||null===process.version)return!1;const e=process.version.match(/^v(\d+)\./);return!!e&&parseInt(e[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xi="https://your-project-id.supabase.co",ji="your-anon-key-here";const ki=((e,t,n)=>new wi(e,t,n))(xi,ji,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Ni=Rr.create({baseURL:"https://your-backend-app.onrender.com/api",headers:{"Content-Type":"application/json"},timeout:3e4,retry:3,retryDelay:1e3});Ni.interceptors.request.use(async e=>{try{const{data:{session:t}}=await ki.auth.getSession();null!==t&&void 0!==t&&t.access_token?(e.headers.Authorization=`Bearer ${t.access_token}`,console.log("Added auth token to request:",e.url)):console.log("No session found for request:",e.url)}catch(t){console.error("Error getting session for API request:",t)}return e},e=>(console.error("Request interceptor error:",e),Promise.reject(e))),Ni.interceptors.response.use(e=>e,async e=>{var t;const n=e.config;if(("ECONNRESET"===e.code||"ENOTFOUND"===e.code||"ETIMEDOUT"===e.code||"NETWORK_ERROR"===e.code||!e.response)&&n&&!n.__isRetryRequest&&(n.__retryCount=n.__retryCount||0,n.__retryCount<(n.retry||3))){n.__retryCount++,n.__isRetryRequest=!0;const e=(n.retryDelay||1e3)*Math.pow(2,n.__retryCount-1);return console.log(`Network error, retrying request in ${e}ms... (attempt ${n.__retryCount})`),await new Promise(t=>setTimeout(t,e)),Ni(n)}return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(window.location.href="/login"),Promise.reject(e)});const Si=Ni,Ei=async()=>{try{return(await Si.get("/public-data/blood-groups")).data}catch(e){return console.error("Error fetching blood groups:",e),{data:[{blood_group_id:1,group_name:"A+"},{blood_group_id:2,group_name:"A-"},{blood_group_id:3,group_name:"B+"},{blood_group_id:4,group_name:"B-"},{blood_group_id:5,group_name:"AB+"},{blood_group_id:6,group_name:"AB-"},{blood_group_id:7,group_name:"O+"},{blood_group_id:8,group_name:"O-"}]}}},Ci=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.city&&t.append("city",e.city),e.state&&t.append("state",e.state),e.category&&t.append("category",e.category),e.latitude&&e.longitude&&(t.append("latitude",e.latitude),t.append("longitude",e.longitude),t.append("radius",e.radius||10)),e.limit&&t.append("limit",e.limit);return(await Si.get(`/public-data/blood-banks?${t}`)).data}catch(t){throw console.error("Error fetching blood banks:",t),t}},Pi=async e=>{try{return(await Si.get(`/public/blood-banks/${e}/stock`)).data}catch(t){throw console.error("Error fetching blood stock:",t),t}},Ti=()=>{const[e,t]=(0,a.useState)({email:"",password:"",confirmPassword:"",phone_number:"",full_name:"",city:"",state:"",user_type:"Patient",blood_group_id:"",date_of_birth:""}),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)({}),{isGuest:o,loading:l}=He(),{handleRegister:c,isLoading:u,error:d,clearError:h}=(()=>{const{register:e}=We(),t=re(),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null);return{handleRegister:async function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{redirectTo:a="/login"}=s;r(!0),i(null);try{const r=await e(n);return t(a,{replace:!0,state:{message:"Registration successful! Please check your email to verify your account.",email:n.email}}),{success:!0,data:r}}catch(o){const e=o.message||"Registration failed";return i(e),{success:!1,error:e}}finally{r(!1)}},isLoading:n,error:s,clearError:()=>i(null)}})(),f=re();(0,a.useEffect)(()=>{p()},[]),(0,a.useEffect)(()=>{d&&h(),i({})},[e.email,e.password,e.confirmPassword,e.full_name,e.phone_number]);const p=async()=>{try{const e=await Ei();r(e.data||[])}catch(d){console.error("Error fetching blood groups:",d),r([{blood_group_id:1,group_name:"A+"},{blood_group_id:2,group_name:"A-"},{blood_group_id:3,group_name:"B+"},{blood_group_id:4,group_name:"B-"},{blood_group_id:5,group_name:"AB+"},{blood_group_id:6,group_name:"AB-"},{blood_group_id:7,group_name:"O+"},{blood_group_id:8,group_name:"O-"}])}},m=n=>{const{name:r,value:s}=n.target;t({...e,[r]:s})};return l?(0,Ie.jsx)("div",{className:"register-page",children:(0,Ie.jsxs)("div",{className:"auth-loading",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Loading..."})]})}):(0,Ie.jsxs)("div",{className:"register-page",children:[(0,Ie.jsx)("div",{className:"register-hero",children:(0,Ie.jsxs)("div",{className:"register-hero__content",children:[(0,Ie.jsxs)("div",{className:"register-hero__badge",children:[(0,Ie.jsx)("span",{children:"\ud83e\ude78"}),(0,Ie.jsx)("span",{children:"Blood Warriors"})]}),(0,Ie.jsxs)("h1",{className:"register-hero__title",children:["Join the Fight",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("span",{className:"text-gradient",children:"Save Lives Together"})]}),(0,Ie.jsx)("p",{className:"register-hero__subtitle",children:"Become part of India's largest blood donation network. Connect with patients, donors, and make a real difference."}),(0,Ie.jsxs)("div",{className:"register-hero__features",children:[(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83d\udea8"}),(0,Ie.jsx)("div",{className:"feature-text",children:"Emergency SOS Network"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83e\udd16"}),(0,Ie.jsx)("div",{className:"feature-text",children:"AI-Powered CareBot Support"})]}),(0,Ie.jsxs)("div",{className:"feature-item",children:[(0,Ie.jsx)("div",{className:"feature-icon",children:"\ud83c\udf81"}),(0,Ie.jsx)("div",{className:"feature-text",children:"Donor Rewards & Perks"})]})]})]})}),(0,Ie.jsx)("div",{className:"register-form-container",children:(0,Ie.jsxs)("div",{className:"register-form",children:[(0,Ie.jsxs)("div",{className:"register-form__header",children:[(0,Ie.jsx)("div",{className:"register-form__icon",children:"\ud83e\ude78"}),(0,Ie.jsx)("h2",{className:"register-form__title",children:"Create Account"}),(0,Ie.jsx)("p",{className:"register-form__subtitle",children:"Join thousands of blood warriors making a difference"})]}),d&&(0,Ie.jsxs)("div",{className:"register-form__alert register-form__alert--error",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{children:d})]}),(0,Ie.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),h(),!(()=>{const t={};return e.full_name.trim()?e.full_name.trim().length<2&&(t.full_name="Full name must be at least 2 characters"):t.full_name="Full name is required",e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Please enter a valid email address"):t.email="Email is required",e.phone_number?/^\+?[\d\s\-\(\)]{10,}$/.test(e.phone_number)||(t.phone_number="Please enter a valid phone number"):t.phone_number="Phone number is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(t.confirmPassword="Passwords do not match"):t.confirmPassword="Please confirm your password",e.blood_group_id||(t.blood_group_id="Please select your blood group"),"Patient"!==e.user_type||e.date_of_birth||(t.date_of_birth="Date of birth is required for patients"),i(t),0===Object.keys(t).length})())return;const n={...e};delete n.confirmPassword,n.blood_group_id&&(n.blood_group_id=parseInt(n.blood_group_id,10)),"Patient"!==n.user_type&&delete n.date_of_birth,await c(n,{redirectTo:"/login"})},className:"register-form__form",children:[(0,Ie.jsxs)("div",{className:"form-row",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"full_name",className:"form-field__label form-field__label--required",children:"Full Name"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"text",id:"full_name",name:"full_name",className:"form-field__input "+(s.full_name?"form-field__input--error":""),value:e.full_name,onChange:m,placeholder:"Enter your full name",required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udc64"})]}),s.full_name&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.full_name})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"phone_number",className:"form-field__label form-field__label--required",children:"Phone Number"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",className:"form-field__input "+(s.phone_number?"form-field__input--error":""),value:e.phone_number,onChange:m,placeholder:"Enter your phone number",required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udcf1"})]}),s.phone_number&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.phone_number})]})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"email",className:"form-field__label form-field__label--required",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"email",id:"email",name:"email",className:"form-field__input "+(s.email?"form-field__input--error":""),value:e.email,onChange:m,placeholder:"Enter your email address",required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udce7"})]}),s.email&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.email})]}),(0,Ie.jsxs)("div",{className:"form-row",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"city",className:"form-field__label",children:"City"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"text",id:"city",name:"city",className:"form-field__input",value:e.city,onChange:m,placeholder:"Enter your city"}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83c\udfd9\ufe0f"})]})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"state",className:"form-field__label",children:"State"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"text",id:"state",name:"state",className:"form-field__input",value:e.state,onChange:m,placeholder:"Enter your state"}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udccd"})]})]})]}),(0,Ie.jsxs)("div",{className:"form-field form-field--full",children:[(0,Ie.jsx)("label",{className:"form-field__label form-field__label--required",children:"I am a"}),(0,Ie.jsxs)("div",{className:"user-type-selector",children:[(0,Ie.jsxs)("div",{className:"user-type-option",children:[(0,Ie.jsx)("input",{type:"radio",id:"user_type_patient",name:"user_type",value:"Patient",checked:"Patient"===e.user_type,onChange:m}),(0,Ie.jsxs)("label",{htmlFor:"user_type_patient",className:"user-type-card",children:[(0,Ie.jsx)("div",{className:"user-type-icon",children:"\ud83e\ude7a"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"user-type-title",children:"Patient"}),(0,Ie.jsx)("div",{className:"user-type-description",children:"I need blood donations"})]})]})]}),(0,Ie.jsxs)("div",{className:"user-type-option",children:[(0,Ie.jsx)("input",{type:"radio",id:"user_type_donor",name:"user_type",value:"Donor",checked:"Donor"===e.user_type,onChange:m}),(0,Ie.jsxs)("label",{htmlFor:"user_type_donor",className:"user-type-card",children:[(0,Ie.jsx)("div",{className:"user-type-icon",children:"\u2764\ufe0f"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"user-type-title",children:"Donor"}),(0,Ie.jsx)("div",{className:"user-type-description",children:"I want to donate blood"})]})]})]})]})]}),(0,Ie.jsxs)("div",{className:"form-row",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"blood_group_id",className:"form-field__label form-field__label--required",children:"Blood Group"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsxs)("select",{id:"blood_group_id",name:"blood_group_id",className:"form-field__select "+(s.blood_group_id?"form-field__input--error":""),value:e.blood_group_id,onChange:m,required:!0,children:[(0,Ie.jsx)("option",{value:"",children:"Select blood group"}),n.map(e=>(0,Ie.jsx)("option",{value:e.blood_group_id,children:e.group_name},e.blood_group_id))]}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83e\ude78"})]}),s.blood_group_id&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.blood_group_id}),0===n.length&&(0,Ie.jsx)("div",{className:"form-field__help",children:"Loading blood groups..."})]}),"Patient"===e.user_type&&(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"date_of_birth",className:"form-field__label form-field__label--required",children:"Date of Birth"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"date",id:"date_of_birth",name:"date_of_birth",className:"form-field__input "+(s.date_of_birth?"form-field__input--error":""),value:e.date_of_birth,onChange:m,required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udcc5"})]}),s.date_of_birth&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.date_of_birth})]})]}),(0,Ie.jsxs)("div",{className:"form-row",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"password",className:"form-field__label form-field__label--required",children:"Password"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"password",id:"password",name:"password",className:"form-field__input "+(s.password?"form-field__input--error":""),value:e.password,onChange:m,placeholder:"Create a password",required:!0,minLength:"6"}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udd12"})]}),s.password&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.password})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",className:"form-field__label form-field__label--required",children:"Confirm Password"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-field__input "+(s.confirmPassword?"form-field__input--error":""),value:e.confirmPassword,onChange:m,placeholder:"Confirm your password",required:!0,minLength:"6"}),(0,Ie.jsx)("div",{className:"form-field__icon",children:"\ud83d\udd10"})]}),s.confirmPassword&&(0,Ie.jsx)("div",{className:"form-field__error",children:s.confirmPassword})]})]}),(0,Ie.jsx)("button",{type:"submit",className:"register-form__submit",disabled:u,children:u?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"submit-spinner"}),"Creating Account..."]}):(0,Ie.jsx)(Ie.Fragment,{children:"\ud83e\ude78 Create Account"})})]}),(0,Ie.jsx)("div",{className:"register-form__footer",children:(0,Ie.jsxs)("div",{className:"register-form__link-text",children:["Already have an account?"," ",(0,Ie.jsx)("button",{type:"button",className:"register-form__link",onClick:()=>f("/login"),children:"Sign In"})]})})]})})]})},Oi=()=>{const{isGuest:e,loading:t}=He(),{handleForgotPassword:n,isLoading:r,error:s,success:i,clearMessages:o}=Ve(),[l,c]=(0,a.useState)(""),[u,d]=(0,a.useState)({});(0,a.useEffect)(()=>{(s||i)&&o(),d({})},[l,s,i,o]);return t?(0,Ie.jsx)("div",{className:"auth-page",children:(0,Ie.jsxs)("div",{className:"auth-loading",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Loading..."})]})}):(0,Ie.jsxs)("div",{className:"auth-page",children:[(0,Ie.jsx)("div",{className:"auth-hero",children:(0,Ie.jsxs)("div",{className:"auth-hero__content",children:[(0,Ie.jsxs)("div",{className:"auth-hero__badge",children:[(0,Ie.jsx)(Qe,{}),(0,Ie.jsx)("span",{children:"Blood Warriors"})]}),(0,Ie.jsxs)("h1",{className:"auth-hero__title",children:["Reset Your",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("span",{className:"text-gradient",children:"Password"})]}),(0,Ie.jsx)("p",{className:"auth-hero__subtitle",children:"Don't worry, it happens to the best of us. Enter your email address and we'll send you a link to reset your password."})]})}),(0,Ie.jsx)("div",{className:"auth-form-container",children:(0,Ie.jsxs)("div",{className:"auth-form",children:[(0,Ie.jsxs)("div",{className:"auth-form__header",children:[(0,Ie.jsx)("div",{className:"auth-form__icon",children:(0,Ie.jsx)(Ye,{})}),(0,Ie.jsx)("h2",{className:"auth-form__title",children:"Forgot Password"}),(0,Ie.jsx)("p",{className:"auth-form__subtitle",children:"Enter your email address to receive a password reset link"})]}),i&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--success",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u2705"}),(0,Ie.jsx)("span",{children:i})]}),s&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--error",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{children:s})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),(()=>{const e={};return l?/\S+@\S+\.\S+/.test(l)||(e.email="Please enter a valid email address"):e.email="Email is required",d(e),0===Object.keys(e).length})()&&await n(l)},className:"auth-form__form",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"email",className:"form-field__label",children:"Email Address"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:"email",id:"email",name:"email",className:"form-field__input "+(u.email?"form-field__input--error":""),value:l,onChange:e=>c(e.target.value),placeholder:"Enter your email address",required:!0}),(0,Ie.jsx)("div",{className:"form-field__icon",children:(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]}),u.email&&(0,Ie.jsx)("div",{className:"form-field__error",children:u.email})]}),(0,Ie.jsx)("div",{className:"form-field",children:(0,Ie.jsx)(tt,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:r,disabled:r,icon:(0,Ie.jsx)(Ye,{}),children:r?"Sending Reset Link...":"Send Reset Link"})})]}),(0,Ie.jsx)("div",{className:"auth-form__divider",children:(0,Ie.jsx)("span",{children:"or"})}),(0,Ie.jsxs)("div",{className:"auth-form__footer",children:[(0,Ie.jsxs)("p",{className:"auth-form__link-text",children:["Remember your password?"," ",(0,Ie.jsx)(Oe,{to:"/login",className:"auth-form__link",children:"Back to Sign In"})]}),(0,Ie.jsxs)("p",{className:"auth-form__link-text",children:["Don't have an account?"," ",(0,Ie.jsx)(Oe,{to:"/register",className:"auth-form__link",children:"Create your account"})]}),(0,Ie.jsxs)("p",{className:"auth-form__help",children:["Need help? ",(0,Ie.jsx)("a",{href:"#",className:"auth-form__link",children:"Contact Support"})]})]})]})})]})},Ri=()=>{const[e]=Le(),t=re(),{isGuest:n,loading:r}=He(),{handleResetPassword:s,isLoading:i,error:o,success:l,clearMessages:c}=Ve(),[u,d]=(0,a.useState)({password:"",confirmPassword:""}),[h,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),[v,g]=(0,a.useState)({}),[y,b]=(0,a.useState)({score:0,feedback:[]}),_=e.get("token");(0,a.useEffect)(()=>{(o||l)&&c(),g({})},[u,o,l,c]),(0,a.useEffect)(()=>{if(l){const e=setTimeout(()=>{t("/login",{state:{message:"Password reset successfully! Please log in with your new password."}})},3e3);return()=>clearTimeout(e)}},[l,t]),(0,a.useEffect)(()=>{_||t("/forgot-password")},[_,t]);const w=e=>{const t={score:0,feedback:[]};return e.length>=8?t.score+=1:t.feedback.push("At least 8 characters"),/[a-z]/.test(e)?t.score+=1:t.feedback.push("One lowercase letter"),/[A-Z]/.test(e)?t.score+=1:t.feedback.push("One uppercase letter"),/\d/.test(e)?t.score+=1:t.feedback.push("One number"),/[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/.test(e)?t.score+=1:t.feedback.push("One special character"),t},x=e=>{const{name:t,value:n}=e.target;d(e=>({...e,[t]:n})),"password"===t&&b(w(n))},j=e=>e<=1?"#ef4444":e<=2?"#f97316":e<=3?"#eab308":e<=4?"#22c55e":"#16a34a";return r?(0,Ie.jsx)("div",{className:"auth-page",children:(0,Ie.jsxs)("div",{className:"auth-loading",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Loading..."})]})}):(0,Ie.jsxs)("div",{className:"auth-page",children:[(0,Ie.jsx)("div",{className:"auth-hero",children:(0,Ie.jsxs)("div",{className:"auth-hero__content",children:[(0,Ie.jsxs)("div",{className:"auth-hero__badge",children:[(0,Ie.jsx)(Qe,{}),(0,Ie.jsx)("span",{children:"Blood Warriors"})]}),(0,Ie.jsxs)("h1",{className:"auth-hero__title",children:["Create New",(0,Ie.jsx)("br",{}),(0,Ie.jsx)("span",{className:"text-gradient",children:"Password"})]}),(0,Ie.jsx)("p",{className:"auth-hero__subtitle",children:"Choose a strong password to keep your account secure."})]})}),(0,Ie.jsx)("div",{className:"auth-form-container",children:(0,Ie.jsxs)("div",{className:"auth-form",children:[(0,Ie.jsxs)("div",{className:"auth-form__header",children:[(0,Ie.jsx)("div",{className:"auth-form__icon",children:(0,Ie.jsx)(Ye,{})}),(0,Ie.jsx)("h2",{className:"auth-form__title",children:"Reset Password"}),(0,Ie.jsx)("p",{className:"auth-form__subtitle",children:"Enter your new password below"})]}),l&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--success",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u2705"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{children:l}),(0,Ie.jsx)("div",{style:{fontSize:"0.875rem",marginTop:"0.25rem"},children:"Redirecting to login page in 3 seconds..."})]})]}),o&&(0,Ie.jsxs)("div",{className:"auth-form__alert auth-form__alert--error",children:[(0,Ie.jsx)("div",{className:"alert-icon",children:"\u26a0\ufe0f"}),(0,Ie.jsx)("span",{children:o})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),(()=>{const e={};u.password?w(u.password).score<4&&(e.password="Password is too weak"):e.password="Password is required";return u.confirmPassword?u.password!==u.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",g(e),0===Object.keys(e).length})()&&await s(_,u.password,u.confirmPassword)},className:"auth-form__form",children:[(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"password",className:"form-field__label",children:"New Password"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:h?"text":"password",id:"password",name:"password",className:"form-field__input "+(v.password?"form-field__input--error":""),value:u.password,onChange:x,placeholder:"Enter your new password",required:!0}),(0,Ie.jsx)("button",{type:"button",className:"form-field__toggle-password",onClick:()=>f(!h),"aria-label":h?"Hide password":"Show password",children:h?(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),u.password&&(0,Ie.jsxs)("div",{className:"password-strength",children:[(0,Ie.jsx)("div",{className:"password-strength__bar",children:(0,Ie.jsx)("div",{className:"password-strength__fill",style:{width:y.score/5*100+"%",backgroundColor:j(y.score)}})}),(0,Ie.jsxs)("div",{className:"password-strength__text",children:[(0,Ie.jsx)("span",{style:{color:j(y.score)},children:(k=y.score,k<=1?"Very Weak":k<=2?"Weak":k<=3?"Fair":k<=4?"Good":"Strong")}),y.feedback.length>0&&(0,Ie.jsxs)("span",{className:"password-strength__feedback",children:["Missing: ",y.feedback.join(", ")]})]})]}),v.password&&(0,Ie.jsx)("div",{className:"form-field__error",children:v.password})]}),(0,Ie.jsxs)("div",{className:"form-field",children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",className:"form-field__label",children:"Confirm New Password"}),(0,Ie.jsxs)("div",{className:"form-field__input-wrapper",children:[(0,Ie.jsx)("input",{type:p?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"form-field__input "+(v.confirmPassword?"form-field__input--error":""),value:u.confirmPassword,onChange:x,placeholder:"Confirm your new password",required:!0}),(0,Ie.jsx)("button",{type:"button",className:"form-field__toggle-password",onClick:()=>m(!p),"aria-label":p?"Hide password":"Show password",children:p?(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,Ie.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]}),v.confirmPassword&&(0,Ie.jsx)("div",{className:"form-field__error",children:v.confirmPassword})]}),(0,Ie.jsx)("div",{className:"form-field",children:(0,Ie.jsx)(tt,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:i,disabled:i||l,icon:(0,Ie.jsx)(Ye,{}),children:i?"Resetting Password...":"Reset Password"})})]}),(0,Ie.jsx)("div",{className:"auth-form__footer",children:(0,Ie.jsxs)("p",{className:"auth-form__link-text",children:["Remember your password?"," ",(0,Ie.jsx)(Oe,{to:"/login",className:"auth-form__link",children:"Back to Sign In"})]})})]})})]});var k},Ai=e=>{let{children:t,variant:n="default",padding:r="md",shadow:s="md",hover:a=!1,interactive:i=!1,className:o="",onClick:l,...c}=e;const u=["card",`card--${n}`,`card--padding-${r}`,`card--shadow-${s}`,[a&&"card--hover",i&&"card--interactive",l&&"card--clickable"].filter(Boolean).join(" "),o].filter(Boolean).join(" "),d=l?"button":"div";return(0,Ie.jsx)(d,{className:u,onClick:e=>{l&&l(e)},...c,children:t})},Li=e=>{let{children:t,className:n="",...r}=e;return(0,Ie.jsx)("div",{className:`card__header ${n}`,...r,children:t})},Ii=e=>{let{children:t,className:n="",...r}=e;return(0,Ie.jsx)("div",{className:`card__body ${n}`,...r,children:t})},Di=e=>{let{children:t,className:n="",...r}=e;return(0,Ie.jsx)("div",{className:`card__footer ${n}`,...r,children:t})},$i=e=>{let{children:t,level:n=3,className:r="",...s}=e;const a=`h${n}`;return(0,Ie.jsx)(a,{className:`card__title ${r}`,...s,children:t})},Fi=e=>{let{children:t,variant:n="primary",position:r="top-right",className:s="",...a}=e;return(0,Ie.jsx)("div",{className:`card__badge card__badge--${n} card__badge--${r} ${s}`,...a,children:t})},Ui=e=>{let{title:t,value:n,subtitle:r,icon:s,trend:a,trendValue:i,color:o="primary",className:l="",...c}=e;return(0,Ie.jsx)(Ai,{variant:"stat",hover:!0,interactive:!0,className:`stat-card stat-card--${o} ${l}`,...c,children:(0,Ie.jsxs)("div",{className:"stat-card__content",children:[(0,Ie.jsxs)("div",{className:"stat-card__header",children:[s&&(0,Ie.jsx)("div",{className:"stat-card__icon",children:s}),(0,Ie.jsxs)("div",{className:"stat-card__info",children:[(0,Ie.jsx)("h3",{className:"stat-card__title",children:t}),r&&(0,Ie.jsx)("p",{className:"stat-card__subtitle",children:r})]})]}),(0,Ie.jsx)("div",{className:"stat-card__value",children:n}),a&&(0,Ie.jsxs)("div",{className:`stat-card__trend stat-card__trend--${a}`,children:[(0,Ie.jsx)("span",{className:"stat-card__trend-icon",children:"up"===a?"\u2197":"down"===a?"\u2198":"\u2192"}),(0,Ie.jsx)("span",{className:"stat-card__trend-value",children:i})]})]})})},Bi=e=>{let{patientName:t,bloodGroup:n,component:r,urgency:s,unitsRequired:a,location:i,timeAgo:o,status:l,onRespond:c,className:u="",...d}=e;return(0,Ie.jsxs)(Ai,{variant:"request",className:`request-card ${u}`,...d,children:[(0,Ie.jsx)(Li,{children:(0,Ie.jsxs)("div",{className:"request-card__header",children:[(0,Ie.jsxs)("div",{className:"request-card__patient",children:[(0,Ie.jsx)($i,{level:4,children:t}),(0,Ie.jsxs)("div",{className:"request-card__blood-info",children:[(0,Ie.jsx)("span",{className:`blood-group blood-group--${null===n||void 0===n?void 0:n.replace("+","pos").replace("-","neg")}`,children:n}),(0,Ie.jsx)("span",{className:"component",children:r})]})]}),(0,Ie.jsx)(Fi,{variant:null===s||void 0===s?void 0:s.toLowerCase(),position:"top-right",children:s})]})}),(0,Ie.jsx)(Ii,{children:(0,Ie.jsxs)("div",{className:"request-card__details",children:[(0,Ie.jsxs)("div",{className:"request-card__detail",children:[(0,Ie.jsx)("span",{className:"label",children:"Units Needed:"}),(0,Ie.jsx)("span",{className:"value",children:a})]}),i&&(0,Ie.jsxs)("div",{className:"request-card__detail",children:[(0,Ie.jsx)("span",{className:"label",children:"Location:"}),(0,Ie.jsx)("span",{className:"value",children:i})]}),(0,Ie.jsxs)("div",{className:"request-card__detail",children:[(0,Ie.jsx)("span",{className:"label",children:"Posted:"}),(0,Ie.jsx)("span",{className:"value",children:o})]})]})}),c&&(0,Ie.jsx)(Di,{children:(0,Ie.jsxs)("div",{className:"request-card__actions",children:[(0,Ie.jsx)("button",{className:"btn btn--success btn--sm",onClick:()=>c("accept"),children:"Accept"}),(0,Ie.jsx)("button",{className:"btn btn--ghost btn--sm",onClick:()=>c("decline"),children:"Decline"})]})}),l&&(0,Ie.jsx)("div",{className:`request-card__status request-card__status--${null===l||void 0===l?void 0:l.toLowerCase().replace(" ","-")}`,children:l})]})},zi=Ai,qi=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"}),(0,Ie.jsx)("polyline",{points:"14,2 14,8 20,8"}),(0,Ie.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,Ie.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,Ie.jsx)("polyline",{points:"10,9 9,9 8,9"})]}),Mi=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ie.jsx)("polyline",{points:"12,6 12,12 16,14"})]}),Wi=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Ie.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),Hi=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Ie.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,Ie.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,Ie.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Vi=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ie.jsx)("polyline",{points:"12,6 12,12 16,14"})]}),Ki=()=>(0,Ie.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:[(0,Ie.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Ie.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,Ie.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),Ji=()=>(0,Ie.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),Gi=()=>{var e;const{user:t,profile:n}=Ke(),[r,s]=(0,a.useState)({totalRequests:0,activeRequests:0,donationsReceived:0,nearbyDonors:0}),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{d(!0),setTimeout(()=>{s({totalRequests:12,activeRequests:3,donationsReceived:8,nearbyDonors:45}),o([{id:1,patientName:"John Doe",bloodGroup:"O+",component:"Whole Blood",urgency:"SOS",unitsRequired:2,location:"City Hospital, Mumbai",timeAgo:"5 minutes ago",status:"Open"},{id:2,patientName:"Sarah Smith",bloodGroup:"A-",component:"Platelets",urgency:"Urgent",unitsRequired:1,location:"Apollo Hospital, Delhi",timeAgo:"2 hours ago",status:"In Progress"}]),c([{id:3,patientName:"Mike Johnson",bloodGroup:"B+",component:"RBC",urgency:"Scheduled",unitsRequired:1,location:"Max Hospital, Bangalore",timeAgo:"1 day ago",status:"Open"}]),d(!1)},1e3)}catch(e){console.error("Error fetching dashboard data:",e),d(!1)}},f=(e,t)=>{console.log(`${t} request ${e}`)};return u?(0,Ie.jsx)("div",{className:"dashboard",children:(0,Ie.jsx)("div",{className:"dashboard__container",children:(0,Ie.jsxs)("div",{className:"loading-container",children:[(0,Ie.jsx)("div",{className:"loading-spinner"}),(0,Ie.jsx)("p",{className:"loading-text",children:"Loading your dashboard..."})]})})}):(0,Ie.jsx)("div",{className:"dashboard",children:(0,Ie.jsxs)("div",{className:"dashboard__container",children:[(0,Ie.jsxs)("div",{className:"dashboard__header",children:[(0,Ie.jsxs)("div",{className:"dashboard__welcome",children:[(0,Ie.jsxs)("h1",{className:"dashboard__title",children:["Welcome back, ",(null===n||void 0===n?void 0:n.name)||(null===t||void 0===t||null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"Warrior","! \ud83d\udc4b"]}),(0,Ie.jsx)("p",{className:"dashboard__subtitle",children:"Your blood donation journey continues. Every drop counts in saving lives."})]}),(0,Ie.jsxs)("div",{className:"dashboard__quick-actions",children:[(0,Ie.jsx)(Oe,{to:"/app/sos",children:(0,Ie.jsx)(tt,{variant:"sos",size:"lg",icon:(0,Ie.jsx)(Qe,{}),children:"Emergency SOS"})}),(0,Ie.jsx)(Oe,{to:"/app/requests/new",children:(0,Ie.jsx)(tt,{variant:"primary",size:"lg",icon:(0,Ie.jsx)(et,{}),children:"New Request"})})]})]}),(0,Ie.jsxs)("div",{className:"dashboard__stats",children:[(0,Ie.jsx)(Ui,{title:"Total Requests",value:r.totalRequests,subtitle:"All time",icon:(0,Ie.jsx)(qi,{}),trend:"up",trendValue:"+2 this month",color:"primary"}),(0,Ie.jsx)(Ui,{title:"Active Requests",value:r.activeRequests,subtitle:"Currently open",icon:(0,Ie.jsx)(Mi,{}),color:"warning"}),(0,Ie.jsx)(Ui,{title:"Donations Received",value:r.donationsReceived,subtitle:"Successfully completed",icon:(0,Ie.jsx)(Qe,{}),trend:"up",trendValue:"+3 this month",color:"success"}),(0,Ie.jsx)(Ui,{title:"Nearby Donors",value:r.nearbyDonors,subtitle:"Within 15km",icon:(0,Ie.jsx)(Xe,{}),color:"primary"})]}),(0,Ie.jsxs)("div",{className:"dashboard__content",children:[(0,Ie.jsxs)("div",{className:"dashboard__section",children:[(0,Ie.jsxs)("div",{className:"dashboard__section-header",children:[(0,Ie.jsx)("h2",{className:"dashboard__section-title",children:"Your Recent Requests"}),(0,Ie.jsx)(Oe,{to:"/app/requests",className:"dashboard__section-link",children:"View All"})]}),(0,Ie.jsx)("div",{className:"dashboard__requests",children:i.length>0?i.map(e=>(0,Ie.jsx)(Bi,{...e,onRespond:t=>f(e.id,t)},e.id)):(0,Ie.jsxs)("div",{className:"empty-state",children:[(0,Ie.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,Ie.jsx)("h3",{className:"empty-title",children:"No Recent Requests"}),(0,Ie.jsx)("p",{className:"empty-message",children:"You haven't made any blood requests yet. Create your first request to get started."}),(0,Ie.jsx)(Oe,{to:"/app/requests/new",children:(0,Ie.jsx)(tt,{variant:"primary",icon:(0,Ie.jsx)(et,{}),children:"Create Request"})})]})})]}),(0,Ie.jsxs)("div",{className:"dashboard__section",children:[(0,Ie.jsxs)("div",{className:"dashboard__section-header",children:[(0,Ie.jsx)("h2",{className:"dashboard__section-title",children:"Nearby Requests"}),(0,Ie.jsx)(Oe,{to:"/app/requests?filter=nearby",className:"dashboard__section-link",children:"View All"})]}),(0,Ie.jsx)("div",{className:"dashboard__requests",children:l.length>0?l.map(e=>(0,Ie.jsx)(Bi,{...e,onRespond:t=>f(e.id,t)},e.id)):(0,Ie.jsxs)("div",{className:"empty-state",children:[(0,Ie.jsx)("div",{className:"empty-icon",children:"\ud83d\udccd"}),(0,Ie.jsx)("h3",{className:"empty-title",children:"No Nearby Requests"}),(0,Ie.jsx)("p",{className:"empty-message",children:"There are no blood requests in your area right now. Check back later."})]})})]})]}),(0,Ie.jsx)("div",{className:"dashboard__quick-access",children:(0,Ie.jsxs)(zi,{variant:"glass",padding:"lg",children:[(0,Ie.jsxs)("div",{className:"quick-access__header",children:[(0,Ie.jsx)("h3",{className:"quick-access__title",children:"Quick Actions"}),(0,Ie.jsx)("p",{className:"quick-access__subtitle",children:"Common tasks to help you manage your blood donation journey"})]}),(0,Ie.jsxs)("div",{className:"quick-access__grid",children:[(0,Ie.jsxs)(Oe,{to:"/app/profile",className:"quick-access__item",children:[(0,Ie.jsx)("div",{className:"quick-access__icon",children:(0,Ie.jsx)(Wi,{})}),(0,Ie.jsx)("h4",{children:"Update Profile"}),(0,Ie.jsx)("p",{children:"Keep your information current"})]}),(0,Ie.jsxs)(Oe,{to:"/app/donors",className:"quick-access__item",children:[(0,Ie.jsx)("div",{className:"quick-access__icon",children:(0,Ie.jsx)(Hi,{})}),(0,Ie.jsx)("h4",{children:"Find Donors"}),(0,Ie.jsx)("p",{children:"Search for compatible donors"})]}),(0,Ie.jsxs)(Oe,{to:"/app/history",className:"quick-access__item",children:[(0,Ie.jsx)("div",{className:"quick-access__icon",children:(0,Ie.jsx)(Vi,{})}),(0,Ie.jsx)("h4",{children:"View History"}),(0,Ie.jsx)("p",{children:"Track your donation history"})]}),(0,Ie.jsxs)(Oe,{to:"/app/help",className:"quick-access__item",children:[(0,Ie.jsx)("div",{className:"quick-access__icon",children:(0,Ie.jsx)(Ki,{})}),(0,Ie.jsx)("h4",{children:"Get Help"}),(0,Ie.jsx)("p",{children:"Support and resources"})]})]})]})}),(0,Ie.jsx)("div",{className:"dashboard__tips",children:(0,Ie.jsx)(zi,{variant:"primary",padding:"lg",children:(0,Ie.jsxs)("div",{className:"health-tips",children:[(0,Ie.jsx)("div",{className:"health-tips__icon",children:(0,Ie.jsx)(Ji,{})}),(0,Ie.jsxs)("div",{className:"health-tips__content",children:[(0,Ie.jsx)("h3",{className:"health-tips__title",children:"Today's Health Tip"}),(0,Ie.jsx)("p",{className:"health-tips__message",children:"Stay hydrated! Drinking plenty of water helps maintain healthy blood volume and makes donation easier. Aim for 8-10 glasses of water daily."})]}),(0,Ie.jsx)(Oe,{to:"/app/health-tips",children:(0,Ie.jsx)(tt,{variant:"secondary",size:"sm",children:"More Tips"})})]})})})]})})},Qi=()=>{const[e,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(null),s=re();return(0,Ie.jsx)("div",{className:"sos-container",children:(0,Ie.jsxs)("div",{className:"sos-card",children:[(0,Ie.jsxs)("div",{className:"sos-card__header",children:[(0,Ie.jsx)("div",{className:"sos-card__icon",children:(0,Ie.jsx)(Qe,{})}),(0,Ie.jsx)("h3",{className:"sos-card__title",children:"Emergency Blood Request"}),(0,Ie.jsx)("p",{className:"sos-card__subtitle",children:"Need blood urgently? Send an SOS to nearby donors instantly."})]}),(0,Ie.jsxs)("div",{className:"sos-card__content",children:[(0,Ie.jsxs)("div",{className:"sos-warning",children:[(0,Ie.jsx)("div",{className:"sos-warning__icon",children:"\u26a0\ufe0f"}),(0,Ie.jsxs)("div",{className:"sos-warning__text",children:[(0,Ie.jsx)("strong",{children:"Emergency Use Only"}),(0,Ie.jsx)("p",{children:"This will alert all nearby donors immediately. Use only for genuine emergencies."})]})]}),(0,Ie.jsx)(tt,{variant:"sos",size:"xl",fullWidth:!0,loading:e,onClick:async()=>{try{var e;t(!0),r(null);const n=await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)}),{latitude:a,longitude:i}=n.coords,{data:o,error:l}=await ki.from("Patients").select("blood_group_id").single();if(l)throw l;const c=await fetch("https://your-backend-app.onrender.com/api/requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${null===(e=(await ki.auth.getSession()).data.session)||void 0===e?void 0:e.access_token}`},body:JSON.stringify({blood_group_id:o.blood_group_id,component_id:1,units_required:1,urgency:"SOS",latitude:a,longitude:i})});if(!c.ok){const e=await c.json();throw new Error(e.message||"Failed to create SOS request")}const u=await c.json();s(`/requests/${u.data.request_id}`)}catch(n){r(n instanceof Error?n.message:"An unknown error occurred"),console.error("SOS request error:",n)}finally{t(!1)}},icon:(0,Ie.jsx)(Qe,{}),className:"sos-button",children:e?"Sending SOS Alert...":"Send SOS Alert"}),n&&(0,Ie.jsxs)("div",{className:"sos-error",children:[(0,Ie.jsx)("div",{className:"sos-error__icon",children:"\u274c"}),(0,Ie.jsx)("div",{className:"sos-error__message",children:n})]})]}),(0,Ie.jsx)("div",{className:"sos-card__footer",children:(0,Ie.jsxs)("div",{className:"sos-info",children:[(0,Ie.jsxs)("div",{className:"sos-info__item",children:[(0,Ie.jsx)("span",{className:"sos-info__label",children:"Response Time:"}),(0,Ie.jsx)("span",{className:"sos-info__value",children:"~5 minutes"})]}),(0,Ie.jsxs)("div",{className:"sos-info__item",children:[(0,Ie.jsx)("span",{className:"sos-info__label",children:"Coverage:"}),(0,Ie.jsx)("span",{className:"sos-info__value",children:"15km radius"})]}),(0,Ie.jsxs)("div",{className:"sos-info__item",children:[(0,Ie.jsx)("span",{className:"sos-info__label",children:"Available 24/7:"}),(0,Ie.jsx)("span",{className:"sos-info__value",children:"Yes"})]})]})})]})})},Yi=async(e,t)=>{try{return(await Si.put(`/users/${e}/profile`,t)).data}catch(n){throw console.error("Error updating user profile:",n),n}},Xi=async(e,t)=>{try{return(await Si.put(`/donors/${e}/settings`,t)).data}catch(n){throw console.error("Error updating donor settings:",n),n}},Zi=async(e,t)=>{try{return(await Si.put(`/patients/${e}/info`,t)).data}catch(n){throw console.error("Error updating patient info:",n),n}},eo=async e=>{try{return(await Si.get(`/users/${e}/profile-completion`)).data}catch(t){return console.error("Error fetching profile completion status:",t),{isComplete:!1,missingFields:["emergency_contact"],completionPercentage:75}}},to=(e,t)=>{const n={};if((!e.full_name||e.full_name.trim().length<2)&&(n.full_name="Full name must be at least 2 characters long"),e.phone_number&&/^\+?[\d\s\-()]{10,}$/.test(e.phone_number)||(n.phone_number="Please enter a valid phone number"),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(n.email="Please enter a valid email address"),"Patient"===t){if(e.date_of_birth){const t=new Date(e.date_of_birth),r=(new Date).getFullYear()-t.getFullYear();(r<0||r>120)&&(n.date_of_birth="Please enter a valid date of birth")}else n.date_of_birth="Date of birth is required";e.emergency_contact&&!/^\+?[\d\s\-()]{10,}$/.test(e.emergency_contact)&&(n.emergency_contact="Please enter a valid emergency contact number")}if("Donor"===t&&e.last_donation_date){new Date(e.last_donation_date)>new Date&&(n.last_donation_date="Last donation date cannot be in the future")}return{isValid:0===Object.keys(n).length,errors:n}};const no=new class{async getCurrentPosition(){const e={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return new Promise((t,n)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,altitude:e.coords.altitude,altitudeAccuracy:e.coords.altitudeAccuracy,heading:e.coords.heading,speed:e.coords.speed,timestamp:new Date(e.timestamp)})},e=>{let t="Failed to get location";switch(e.code){case e.PERMISSION_DENIED:t="Location access denied by user";break;case e.POSITION_UNAVAILABLE:t="Location information is unavailable";break;case e.TIMEOUT:t="Location request timed out";break;default:t="Unknown error occurred while getting location"}n(new Error(t))},e):n(new Error("Geolocation is not supported by this browser"))})}async checkPermissionStatus(){if(!navigator.permissions)return"unknown";try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(e){return console.error("Error checking location permission:",e),"unknown"}}calculateDistance(e,t,n,r){const s=this.toRadians(n-e),a=this.toRadians(r-t),i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this.toRadians(e))*Math.cos(this.toRadians(n))*Math.sin(a/2)*Math.sin(a/2),o=6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)));return Math.round(100*o)/100}toRadians(e){return e*(Math.PI/180)}async getAddressFromCoordinates(e,t){try{const n=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${e}&longitude=${t}&localityLanguage=en`);if(!n.ok)throw new Error("Failed to get address");const r=await n.json();return{formatted:r.locality?`${r.locality}, ${r.principalSubdivision}`:`${r.city}, ${r.principalSubdivision}`,city:r.city||r.locality,state:r.principalSubdivision,country:r.countryName,postalCode:r.postcode,full:r}}catch(n){return console.error("Error getting address:",n),{formatted:"Location unavailable",city:null,state:null,country:null,postalCode:null,full:null}}}async updateDonorLocation(e,t){try{return console.log("Updating donor location:",{userId:e,locationData:t}),new Promise(e=>{setTimeout(()=>{e({success:!0,message:"Location updated successfully"})},1e3)})}catch(n){throw console.error("Error updating donor location:",n),new Error("Failed to update location")}}async getNearbyRequests(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;try{return console.log("Getting nearby requests:",{latitude:e,longitude:t,radiusKm:n}),new Promise(n=>{setTimeout(()=>{n([{request_id:"1",blood_group:"O+",component:"Whole Blood",urgency:"High",units_required:2,hospital_name:"City General Hospital",request_datetime:(new Date).toISOString(),latitude:e+.01,longitude:t+.01}])},1e3)})}catch(r){throw console.error("Error getting nearby requests:",r),new Error("Failed to get nearby requests")}}async getNearbyDonors(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50;try{return console.log("Getting nearby donors:",{latitude:e,longitude:t,bloodGroup:n,radiusKm:r}),new Promise(r=>{setTimeout(()=>{r([{donor_id:"1",full_name:"John Doe",blood_group:n,is_available_for_sos:!0,latitude:e+.005,longitude:t+.005}])},1e3)})}catch(s){throw console.error("Error getting nearby donors:",s),new Error("Failed to get nearby donors")}}watchPosition(e,t){const n={enableHighAccuracy:!0,timeout:3e4,maximumAge:6e4,...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};return navigator.geolocation?navigator.geolocation.watchPosition(t=>{e({latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,timestamp:new Date(t.timestamp)})},e=>{t(new Error(`Location watch error: ${e.message}`))},n):(t(new Error("Geolocation is not supported")),null)}clearWatch(e){navigator.geolocation&&e&&navigator.geolocation.clearWatch(e)}formatLocation(e,t,n){return{coordinates:`${e.toFixed(6)}, ${t.toFixed(6)}`,accuracy:n?`\xb1${Math.round(n)}m`:"Unknown",mapsUrl:`https://www.google.com/maps?q=${e},${t}`}}isWithinRadius(e,t,n,r,s){return this.calculateDistance(e,t,n,r)<=s}},ro=e=>{let{completion:t,onEditClick:n}=e;const{isComplete:r,completionPercentage:s,missingFields:a}=t;return r?(0,Ie.jsxs)("div",{className:"profile-completion-card complete",children:[(0,Ie.jsx)("div",{className:"completion-icon",children:"\u2705"}),(0,Ie.jsxs)("div",{className:"completion-content",children:[(0,Ie.jsx)("h4",{children:"Profile Complete!"}),(0,Ie.jsx)("p",{children:"Your profile is 100% complete. Great job!"})]})]}):(0,Ie.jsxs)("div",{className:"profile-completion-card incomplete",children:[(0,Ie.jsx)("div",{className:"completion-icon",children:"\ud83d\udcdd"}),(0,Ie.jsxs)("div",{className:"completion-content",children:[(0,Ie.jsx)("h4",{children:"Complete Your Profile"}),(0,Ie.jsxs)("p",{children:["Your profile is ",s,"% complete."]}),a.length>0&&(0,Ie.jsxs)("div",{className:"missing-fields-list",children:[(0,Ie.jsx)("p",{children:(0,Ie.jsx)("strong",{children:"Missing information:"})}),(0,Ie.jsx)("ul",{children:a.map((e,t)=>(0,Ie.jsx)("li",{children:e},t))})]}),(0,Ie.jsx)("button",{className:"btn btn-primary btn-sm",onClick:n,children:"Complete Profile"})]}),(0,Ie.jsx)("div",{className:"completion-progress",children:(0,Ie.jsxs)("div",{className:"progress-circle",children:[(0,Ie.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[(0,Ie.jsx)("circle",{cx:"30",cy:"30",r:"25",fill:"none",stroke:"var(--color-secondary-200)",strokeWidth:"4"}),(0,Ie.jsx)("circle",{cx:"30",cy:"30",r:"25",fill:"none",stroke:"var(--color-primary-500)",strokeWidth:"4",strokeDasharray:""+2*Math.PI*25,strokeDashoffset:""+2*Math.PI*25*(1-s/100),strokeLinecap:"round",transform:"rotate(-90 30 30)",style:{transition:"stroke-dashoffset 0.5s ease"}})]}),(0,Ie.jsxs)("span",{className:"progress-text",children:[s,"%"]})]})})]})},so=()=>{var e;const{profile:t,updateProfile:n}=Ke(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)({full_name:"",phone_number:"",city:"",state:"",is_available_for_sos:!1,interests:[],date_of_birth:"",medical_conditions:"",emergency_contact:"",last_donation_date:""}),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)({isComplete:!1,completionPercentage:0,missingFields:[]}),[v,g]=(0,a.useState)({}),y=a.useCallback(async()=>{if(null!==t&&void 0!==t&&t.user_id)try{const e=await eo(t.user_id);m(e)}catch(e){console.error("Error loading profile completion:",e)}},[null===t||void 0===t?void 0:t.user_id]);(0,a.useEffect)(()=>{t&&(o({full_name:t.full_name||"",phone_number:t.phone_number||"",city:t.city||"",state:t.state||"",is_available_for_sos:t.is_available_for_sos||!1,interests:t.interests||[],date_of_birth:t.date_of_birth||"",medical_conditions:t.medical_conditions||"",emergency_contact:t.emergency_contact||"",last_donation_date:t.last_donation_date||""}),y())},[t,y]);const b=e=>{const{name:t,value:n,type:r,checked:s}=e.target,a="checkbox"===r?s:n;o(e=>({...e,[t]:a})),v[t]&&g(e=>({...e,[t]:null})),""!==n.trim()&&_(t,a)},_=(e,n)=>{const r=to({[e]:n},null===t||void 0===t?void 0:t.user_type);!r.isValid&&r.errors[e]&&g(t=>({...t,[e]:r.errors[e]}))},[w,x]=(0,a.useState)("prompt"),[j,k]=(0,a.useState)(null),[N,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{"Donor"===(null===t||void 0===t?void 0:t.user_type)&&E()},[null===t||void 0===t?void 0:t.user_type]);const E=async()=>{try{const e=await no.checkPermissionStatus();x(e)}catch(e){console.error("Error checking location permission:",e)}},C=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{showConfirmation:n=!0,highAccuracy:r=!0}=e;if(n){if(!window.confirm("This will update your location to help match you with nearby blood requests. Continue?"))return}f(!0),d(null);try{const e=await no.getCurrentPosition({enableHighAccuracy:r,timeout:1e4,maximumAge:r?6e4:3e5});await no.updateDonorLocation(t.user_id,e);const n=await no.getAddressFromCoordinates(e.latitude,e.longitude);k(e),S(n),d({type:"success",text:`Location updated successfully! ${n.formatted} (\xb1${Math.round(e.accuracy)}m)`}),await E()}catch(s){console.error("Location update error:",s),s.message.includes("denied")&&x("denied"),d({type:"error",text:s.message||"Failed to update location"})}finally{f(!1)}};return(0,Ie.jsxs)("div",{className:"profile-page",children:[!p.isComplete&&(0,Ie.jsx)(ro,{completion:p,onEditClick:()=>s(!0)}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsxs)("div",{className:"profile-header",children:[(0,Ie.jsxs)("div",{className:"profile-avatar",children:[(0,Ie.jsx)("div",{className:"user-avatar large",children:(null===t||void 0===t||null===(e=t.full_name)||void 0===e?void 0:e.charAt(0))||"U"}),(0,Ie.jsxs)("div",{className:"profile-info-header",children:[(0,Ie.jsx)("h2",{children:null===t||void 0===t?void 0:t.full_name}),(0,Ie.jsx)("p",{className:"profile-subtitle",children:null===t||void 0===t?void 0:t.user_type}),(0,Ie.jsx)("span",{className:"blood-type",children:null===t||void 0===t?void 0:t.blood_group}),(0,Ie.jsxs)("div",{className:"profile-completion",children:[(0,Ie.jsx)("div",{className:"completion-bar",children:(0,Ie.jsx)("div",{className:"completion-fill",style:{width:`${p.completionPercentage}%`}})}),(0,Ie.jsxs)("span",{className:"completion-text",children:[p.completionPercentage,"% Complete"]}),p.missingFields.length>0&&(0,Ie.jsx)("div",{className:"missing-fields",children:(0,Ie.jsxs)("small",{children:["Missing: ",p.missingFields.join(", ")]})})]})]})]}),!r&&(0,Ie.jsxs)("button",{className:"btn btn-primary",onClick:()=>s(!0),children:[(0,Ie.jsx)("span",{children:"\u270f\ufe0f"}),"Edit Profile"]})]})}),(0,Ie.jsxs)("div",{className:"card-body",children:[u&&(0,Ie.jsx)("div",{className:`alert alert-${u.type}`,children:u.text}),r?(0,Ie.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c(!0),d(null),g({});const e=to(i,null===t||void 0===t?void 0:t.user_type);if(!e.isValid)return g(e.errors),void d({type:"error",text:"Please fix the validation errors below."});await Yi(t.user_id,{full_name:i.full_name,phone_number:i.phone_number,city:i.city,state:i.state}),"Donor"===(null===t||void 0===t?void 0:t.user_type)?await Xi(t.user_id,{is_available_for_sos:i.is_available_for_sos,qloo_taste_keywords:i.interests,last_donation_date:i.last_donation_date||null}):"Patient"===(null===t||void 0===t?void 0:t.user_type)&&await Zi(t.user_id,{date_of_birth:i.date_of_birth,medical_conditions:i.medical_conditions,emergency_contact:i.emergency_contact}),await n(i),await y(),d({type:"success",text:"Profile updated successfully!"}),s(!1)}catch(r){d({type:"error",text:r.message||"Failed to update profile"})}finally{c(!1)}},className:"profile-form",children:[(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"Basic Information"}),(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"full_name",className:"form-label",children:"Full Name *"}),(0,Ie.jsx)("input",{type:"text",id:"full_name",name:"full_name",className:"form-input "+(v.full_name?"error":""),value:i.full_name,onChange:b,required:!0}),v.full_name&&(0,Ie.jsx)("span",{className:"error-message",children:v.full_name})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"phone_number",className:"form-label",children:"Phone Number *"}),(0,Ie.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",className:"form-input "+(v.phone_number?"error":""),value:i.phone_number,onChange:b,placeholder:"+1 (555) 123-4567",required:!0}),v.phone_number&&(0,Ie.jsx)("span",{className:"error-message",children:v.phone_number})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,Ie.jsx)("input",{type:"text",id:"city",name:"city",className:"form-input "+(v.city?"error":""),value:i.city,onChange:b}),v.city&&(0,Ie.jsx)("span",{className:"error-message",children:v.city})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"state",className:"form-label",children:"State"}),(0,Ie.jsx)("input",{type:"text",id:"state",name:"state",className:"form-input "+(v.state?"error":""),value:i.state,onChange:b}),v.state&&(0,Ie.jsx)("span",{className:"error-message",children:v.state})]})]})]}),"Patient"===(null===t||void 0===t?void 0:t.user_type)&&(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"Patient Information"}),(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"date_of_birth",className:"form-label",children:"Date of Birth"}),(0,Ie.jsx)("input",{type:"date",id:"date_of_birth",name:"date_of_birth",className:"form-input "+(v.date_of_birth?"error":""),value:i.date_of_birth,onChange:b}),v.date_of_birth&&(0,Ie.jsx)("span",{className:"error-message",children:v.date_of_birth})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"emergency_contact",className:"form-label",children:"Emergency Contact"}),(0,Ie.jsx)("input",{type:"tel",id:"emergency_contact",name:"emergency_contact",className:"form-input "+(v.emergency_contact?"error":""),value:i.emergency_contact,onChange:b,placeholder:"+1 (555) 123-4567"}),v.emergency_contact&&(0,Ie.jsx)("span",{className:"error-message",children:v.emergency_contact})]}),(0,Ie.jsxs)("div",{className:"form-group full-width",children:[(0,Ie.jsx)("label",{htmlFor:"medical_conditions",className:"form-label",children:"Medical Conditions"}),(0,Ie.jsx)("textarea",{id:"medical_conditions",name:"medical_conditions",className:"form-input "+(v.medical_conditions?"error":""),value:i.medical_conditions,onChange:b,rows:"3",placeholder:"List any relevant medical conditions..."}),v.medical_conditions&&(0,Ie.jsx)("span",{className:"error-message",children:v.medical_conditions})]})]})]}),"Donor"===(null===t||void 0===t?void 0:t.user_type)&&(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"Donor Settings"}),(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"last_donation_date",className:"form-label",children:"Last Donation Date"}),(0,Ie.jsx)("input",{type:"date",id:"last_donation_date",name:"last_donation_date",className:"form-input "+(v.last_donation_date?"error":""),value:i.last_donation_date,onChange:b}),v.last_donation_date&&(0,Ie.jsx)("span",{className:"error-message",children:v.last_donation_date}),(0,Ie.jsx)("small",{className:"form-help",children:"Help us track your donation eligibility"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsxs)("label",{className:"checkbox-label",children:[(0,Ie.jsx)("input",{type:"checkbox",name:"is_available_for_sos",checked:i.is_available_for_sos,onChange:b}),(0,Ie.jsx)("span",{className:"checkmark"}),"Available for SOS requests"]}),(0,Ie.jsx)("small",{className:"form-help",children:"Enable to receive emergency donation notifications"})]}),(0,Ie.jsxs)("div",{className:"form-group full-width",children:[(0,Ie.jsx)("label",{htmlFor:"interests",className:"form-label",children:"Interests"}),(0,Ie.jsx)("input",{type:"text",id:"interests",className:"form-input "+(v.interests?"error":""),value:i.interests.join(", "),onChange:e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e);o(e=>({...e,interests:t}))},placeholder:"e.g., food, entertainment, travel"}),v.interests&&(0,Ie.jsx)("span",{className:"error-message",children:v.interests}),(0,Ie.jsx)("small",{className:"form-help",children:"Comma-separated interests help us match you with relevant coupons"})]})]})]}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{type:"submit",className:"btn btn-success",disabled:l,children:l?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),"Saving..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{children:"\ud83d\udcbe"}),"Save Changes"]})}),(0,Ie.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{s(!1),g({}),o({full_name:(null===t||void 0===t?void 0:t.full_name)||"",phone_number:(null===t||void 0===t?void 0:t.phone_number)||"",city:(null===t||void 0===t?void 0:t.city)||"",state:(null===t||void 0===t?void 0:t.state)||"",is_available_for_sos:(null===t||void 0===t?void 0:t.is_available_for_sos)||!1,interests:(null===t||void 0===t?void 0:t.interests)||[],date_of_birth:(null===t||void 0===t?void 0:t.date_of_birth)||"",medical_conditions:(null===t||void 0===t?void 0:t.medical_conditions)||"",emergency_contact:(null===t||void 0===t?void 0:t.emergency_contact)||"",last_donation_date:(null===t||void 0===t?void 0:t.last_donation_date)||""})},children:"Cancel"})]})]}):(0,Ie.jsx)("div",{className:"profile-info",children:(0,Ie.jsxs)("div",{className:"info-grid",children:[(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Email"}),(0,Ie.jsx)("span",{className:"info-value",children:null===t||void 0===t?void 0:t.email})]}),(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Phone Number"}),(0,Ie.jsx)("span",{className:"info-value",children:null===t||void 0===t?void 0:t.phone_number})]}),(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"City"}),(0,Ie.jsx)("span",{className:"info-value",children:(null===t||void 0===t?void 0:t.city)||"Not specified"})]}),(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"State"}),(0,Ie.jsx)("span",{className:"info-value",children:(null===t||void 0===t?void 0:t.state)||"Not specified"})]}),"Patient"===(null===t||void 0===t?void 0:t.user_type)&&(0,Ie.jsxs)(Ie.Fragment,{children:[(null===t||void 0===t?void 0:t.date_of_birth)&&(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Date of Birth"}),(0,Ie.jsx)("span",{className:"info-value",children:new Date(t.date_of_birth).toLocaleDateString()})]}),(null===t||void 0===t?void 0:t.emergency_contact)&&(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Emergency Contact"}),(0,Ie.jsx)("span",{className:"info-value",children:t.emergency_contact})]}),(null===t||void 0===t?void 0:t.medical_conditions)&&(0,Ie.jsxs)("div",{className:"info-item full-width",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Medical Conditions"}),(0,Ie.jsx)("span",{className:"info-value",children:t.medical_conditions})]})]}),"Donor"===(null===t||void 0===t?void 0:t.user_type)&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"SOS Availability"}),(0,Ie.jsx)("span",{className:"status-badge "+(null!==t&&void 0!==t&&t.is_available_for_sos?"status-active":"status-inactive"),children:null!==t&&void 0!==t&&t.is_available_for_sos?"Available":"Not Available"})]}),(null===t||void 0===t?void 0:t.last_donation_date)&&(0,Ie.jsxs)("div",{className:"info-item",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Last Donation"}),(0,Ie.jsx)("span",{className:"info-value",children:new Date(t.last_donation_date).toLocaleDateString()})]}),(null===t||void 0===t?void 0:t.interests)&&t.interests.length>0&&(0,Ie.jsxs)("div",{className:"info-item full-width",children:[(0,Ie.jsx)("label",{className:"info-label",children:"Interests"}),(0,Ie.jsx)("div",{className:"interests-tags",children:t.interests.map((e,t)=>(0,Ie.jsx)("span",{className:"interest-tag",children:e},t))})]})]})]})})]})]}),"Donor"===(null===t||void 0===t?void 0:t.user_type)&&(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsx)("h3",{children:"\ud83d\udccd Location Settings"})}),(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("div",{className:"location-settings",children:[(0,Ie.jsxs)("div",{className:"location-info",children:[(0,Ie.jsx)("p",{className:"location-description",children:"Update your location to receive nearby donation requests and help save lives faster."}),(0,Ie.jsxs)("div",{className:"permission-status",children:[(0,Ie.jsxs)("div",{className:"status-item",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Location Permission:"}),(0,Ie.jsxs)("span",{className:`permission-badge permission-${w}`,children:["granted"===w&&"\u2705 Granted","denied"===w&&"\u274c Denied","prompt"===w&&"\u23f3 Not Set"]})]}),j&&(0,Ie.jsxs)("div",{className:"status-item",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Last Updated:"}),(0,Ie.jsx)("span",{className:"status-value",children:j.timestamp.toLocaleString()})]}),N&&(0,Ie.jsxs)("div",{className:"status-item",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Location:"}),(0,Ie.jsx)("span",{className:"status-value",children:N.formatted})]}),j&&(0,Ie.jsxs)("div",{className:"status-item",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Accuracy:"}),(0,Ie.jsxs)("span",{className:"status-value",children:["\xb1",Math.round(j.accuracy),"m"]})]}),j&&(0,Ie.jsxs)("div",{className:"status-item",children:[(0,Ie.jsx)("span",{className:"status-label",children:"Coordinates:"}),(0,Ie.jsxs)("span",{className:"status-value coordinates",children:[j.latitude.toFixed(6),","," ",j.longitude.toFixed(6),(0,Ie.jsx)("a",{href:`https://www.google.com/maps?q=${j.latitude},${j.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"maps-link",title:"View on Google Maps",children:"\ud83d\uddfa\ufe0f"})]})]})]})]}),(0,Ie.jsxs)("div",{className:"location-actions",children:["denied"===w?(0,Ie.jsxs)("div",{className:"permission-help",children:[(0,Ie.jsx)("p",{className:"help-text",children:"Location access is currently denied. To enable location services:"}),(0,Ie.jsxs)("ol",{className:"help-steps",children:[(0,Ie.jsx)("li",{children:"Click the location icon in your browser's address bar"}),(0,Ie.jsx)("li",{children:'Select "Allow" for location access'}),(0,Ie.jsx)("li",{children:"Refresh the page and try again"})]}),(0,Ie.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Page"})]}):(0,Ie.jsxs)("div",{className:"location-buttons",children:[(0,Ie.jsx)("button",{className:"btn btn-primary",onClick:()=>C({highAccuracy:!0}),disabled:h,children:h?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),"Getting Location..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{children:"\ud83c\udfaf"}),"Update Precise Location"]})}),(0,Ie.jsx)("button",{className:"btn btn-secondary",onClick:()=>C({highAccuracy:!1}),disabled:h,children:h?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),"Getting Location..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{children:"\ud83d\udccd"}),"Quick Location Update"]})})]}),"prompt"===w&&(0,Ie.jsxs)("div",{className:"permission-request",children:[(0,Ie.jsx)("p",{className:"help-text",children:"Grant location permission to receive nearby donation requests."}),(0,Ie.jsxs)("button",{className:"btn btn-success",onClick:async()=>{try{await C({showConfirmation:!1})}catch(e){console.error("Permission request error:",e)}},disabled:h,children:[(0,Ie.jsx)("span",{children:"\ud83d\udd13"}),"Enable Location Services"]})]})]}),(0,Ie.jsxs)("div",{className:"privacy-notice",children:[(0,Ie.jsx)("h5",{children:"\ud83d\udd12 Privacy & Security"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Your exact location is never shared with other users"}),(0,Ie.jsx)("li",{children:"We only use your location to match you with nearby requests"}),(0,Ie.jsx)("li",{children:"Location data is encrypted and stored securely"}),(0,Ie.jsx)("li",{children:"You can disable location services at any time"})]})]})]})})]})]})},ao=()=>{const{profile:e}=Ke(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)({status:"",urgency:"",blood_group:""}),[l,c]=(0,a.useState)(null),u=async()=>{try{s(!0);let t=[{request_id:"1",blood_group:"O+",component:"Whole Blood",urgency:"SOS",status:"Open",units_required:2,created_at:(new Date).toISOString(),patient_name:"John Doe",patient_id:"Patient"===(null===e||void 0===e?void 0:e.user_type)?e.user_id:"other",hospital_name:"City Hospital",notes:"Urgent surgery required"},{request_id:"2",blood_group:"A+",component:"Platelets",urgency:"Urgent",status:"Open",units_required:1,created_at:new Date(Date.now()-864e5).toISOString(),patient_name:"Jane Smith",patient_id:"other",hospital_name:"General Hospital",notes:"Cancer treatment support"},{request_id:"3",blood_group:"B+",component:"Plasma",urgency:"Scheduled",status:"In Progress",units_required:3,created_at:new Date(Date.now()-1728e5).toISOString(),patient_name:"Mike Johnson",patient_id:"other",hospital_name:"Medical Center",notes:"Regular transfusion"}];i.status&&(t=t.filter(e=>e.status===i.status)),i.urgency&&(t=t.filter(e=>e.urgency===i.urgency)),i.blood_group&&(t=t.filter(e=>e.blood_group===i.blood_group)),n(t)}catch(t){c({type:"error",text:"Failed to fetch requests"})}finally{s(!1)}},d=async(e,t)=>{try{c({type:"success",text:`Successfully ${"accept"===t?"accepted":"declined"} the request`}),u()}catch(n){c({type:"error",text:"Failed to respond to request"})}},h=async(e,t)=>{try{c({type:"success",text:"Request status updated successfully"}),u()}catch(n){c({type:"error",text:"Failed to update request status"})}};return r?(0,Ie.jsx)("div",{className:"loading",children:(0,Ie.jsx)("div",{className:"spinner"})}):(0,Ie.jsxs)("div",{className:"requests-page",children:[(0,Ie.jsxs)("div",{className:"page-header",children:[(0,Ie.jsxs)("div",{className:"page-title-section",children:[(0,Ie.jsx)("h2",{children:"Patient"===(null===e||void 0===e?void 0:e.user_type)?"My Blood Requests":"Available Blood Requests"}),(0,Ie.jsx)("p",{className:"page-subtitle",children:"Patient"===(null===e||void 0===e?void 0:e.user_type)?"Track and manage your blood donation requests":"Find requests that match your blood type and help save lives"})]}),"Patient"===(null===e||void 0===e?void 0:e.user_type)&&(0,Ie.jsxs)(Oe,{to:"/app/requests/create",className:"btn btn-primary",children:[(0,Ie.jsx)("span",{children:"\u2795"}),"Create New Request"]})]}),l&&(0,Ie.jsx)("div",{className:`alert alert-${l.type}`,children:l.text}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsx)("h3",{children:"\ud83d\udd0d Filter Requests"})}),(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("div",{className:"filter-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),(0,Ie.jsxs)("select",{id:"status",className:"form-select",value:i.status,onChange:e=>o(t=>({...t,status:e.target.value})),children:[(0,Ie.jsx)("option",{value:"",children:"All Statuses"}),(0,Ie.jsx)("option",{value:"Open",children:"Open"}),(0,Ie.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Ie.jsx)("option",{value:"Fulfilled",children:"Fulfilled"}),(0,Ie.jsx)("option",{value:"Cancelled",children:"Cancelled"})]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"urgency",className:"form-label",children:"Urgency"}),(0,Ie.jsxs)("select",{id:"urgency",className:"form-select",value:i.urgency,onChange:e=>o(t=>({...t,urgency:e.target.value})),children:[(0,Ie.jsx)("option",{value:"",children:"All Urgencies"}),(0,Ie.jsx)("option",{value:"SOS",children:"SOS"}),(0,Ie.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,Ie.jsx)("option",{value:"Scheduled",children:"Scheduled"})]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"blood_group",className:"form-label",children:"Blood Group"}),(0,Ie.jsxs)("select",{id:"blood_group",className:"form-select",value:i.blood_group,onChange:e=>o(t=>({...t,blood_group:e.target.value})),children:[(0,Ie.jsx)("option",{value:"",children:"All Blood Groups"}),(0,Ie.jsx)("option",{value:"A+",children:"A+"}),(0,Ie.jsx)("option",{value:"A-",children:"A-"}),(0,Ie.jsx)("option",{value:"B+",children:"B+"}),(0,Ie.jsx)("option",{value:"B-",children:"B-"}),(0,Ie.jsx)("option",{value:"AB+",children:"AB+"}),(0,Ie.jsx)("option",{value:"AB-",children:"AB-"}),(0,Ie.jsx)("option",{value:"O+",children:"O+"}),(0,Ie.jsx)("option",{value:"O-",children:"O-"})]})]})]})})]}),(0,Ie.jsx)("div",{className:"requests-list",children:t.length>0?t.map(t=>(0,Ie.jsxs)("div",{className:"card request-card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsxs)("div",{className:"request-header",children:[(0,Ie.jsxs)("div",{className:"request-badges",children:[(0,Ie.jsx)("span",{className:"blood-type",children:t.blood_group}),(0,Ie.jsx)("span",{className:"component",children:t.component}),(0,Ie.jsx)("span",{className:`urgency urgency-${t.urgency.toLowerCase()}`,children:t.urgency}),(0,Ie.jsx)("span",{className:`badge badge-${t.status.toLowerCase().replace(" ","-")}`,children:t.status})]}),(0,Ie.jsxs)("div",{className:"request-meta",children:[(0,Ie.jsxs)("span",{className:"units",children:[(0,Ie.jsx)("strong",{children:t.units_required})," units needed"]}),(0,Ie.jsx)("span",{className:"date",children:new Date(t.created_at).toLocaleDateString()})]})]})}),(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("div",{className:"request-details",children:[(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Patient:"}),(0,Ie.jsx)("span",{className:"detail-value",children:t.patient_name})]}),(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Hospital:"}),(0,Ie.jsx)("span",{className:"detail-value",children:t.hospital_name})]}),(0,Ie.jsxs)("div",{className:"detail-item",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Created:"}),(0,Ie.jsx)("span",{className:"detail-value",children:new Date(t.created_at).toLocaleString()})]}),t.notes&&(0,Ie.jsxs)("div",{className:"detail-item full-width",children:[(0,Ie.jsx)("span",{className:"detail-label",children:"Notes:"}),(0,Ie.jsx)("span",{className:"detail-value",children:t.notes})]})]})}),(0,Ie.jsx)("div",{className:"card-footer",children:(0,Ie.jsxs)("div",{className:"request-actions",children:["Donor"===(null===e||void 0===e?void 0:e.user_type)&&"Open"===t.status&&(0,Ie.jsxs)("div",{className:"donor-actions",children:[(0,Ie.jsxs)("button",{className:"btn btn-success",onClick:()=>d(t.request_id,"accept"),children:[(0,Ie.jsx)("span",{children:"\u2705"}),"Accept Request"]}),(0,Ie.jsxs)("button",{className:"btn btn-secondary",onClick:()=>d(t.request_id,"decline"),children:[(0,Ie.jsx)("span",{children:"\u274c"}),"Decline"]})]}),"Patient"===(null===e||void 0===e?void 0:e.user_type)&&t.patient_id===e.user_id&&(0,Ie.jsxs)("div",{className:"patient-actions",children:["Open"===t.status&&(0,Ie.jsxs)("button",{className:"btn btn-warning",onClick:()=>h(t.request_id),children:[(0,Ie.jsx)("span",{children:"\ud83d\udeab"}),"Cancel Request"]}),"In Progress"===t.status&&(0,Ie.jsxs)("button",{className:"btn btn-success",onClick:()=>h(t.request_id),children:[(0,Ie.jsx)("span",{children:"\u2705"}),"Mark as Fulfilled"]})]})]})})]},t.request_id)):(0,Ie.jsx)("div",{className:"card empty-state-card",children:(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("div",{className:"empty-state",children:[(0,Ie.jsx)("div",{className:"empty-icon",children:"\ud83e\ude78"}),(0,Ie.jsx)("h3",{children:"No requests found"}),(0,Ie.jsx)("p",{children:"No requests match your current filter criteria."}),"Patient"===(null===e||void 0===e?void 0:e.user_type)&&(0,Ie.jsxs)(Oe,{to:"/app/requests/create",className:"btn btn-primary",children:[(0,Ie.jsx)("span",{children:"\u2795"}),"Create Your First Request"]})]})})})})]})},io=()=>{const e=re(),[t,n]=(0,a.useState)({blood_group_id:"",component_id:"",units_required:1,urgency:"Urgent",hospital_name:"",hospital_address:"",notes:"",latitude:"",longitude:""}),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p()},[]);const p=async()=>{try{s([{blood_group_id:1,group_name:"A+"},{blood_group_id:2,group_name:"A-"},{blood_group_id:3,group_name:"B+"},{blood_group_id:4,group_name:"B-"},{blood_group_id:5,group_name:"AB+"},{blood_group_id:6,group_name:"AB-"},{blood_group_id:7,group_name:"O+"},{blood_group_id:8,group_name:"O-"}]),o([{component_id:1,component_name:"Whole Blood"},{component_id:2,component_name:"Packed Red Blood Cells"},{component_id:3,component_name:"Platelets"},{component_id:4,component_name:"Plasma"},{component_id:5,component_name:"Cryoprecipitate"}])}catch(e){d({type:"error",text:"Failed to load form data"})}},m=e=>{const{name:t,value:r}=e.target;n(e=>({...e,[t]:r}))};return(0,Ie.jsxs)("div",{className:"create-request-page",children:[(0,Ie.jsx)("div",{className:"page-header",children:(0,Ie.jsxs)("div",{className:"page-title-section",children:[(0,Ie.jsx)("h2",{children:"Create Blood Request"}),(0,Ie.jsx)("p",{className:"page-subtitle",children:"Fill out the form below to create a new blood donation request"})]})}),u&&(0,Ie.jsx)("div",{className:`alert alert-${u.type}`,children:u.text}),(0,Ie.jsxs)("div",{className:"form-container",children:[(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsx)("h3",{children:"\ud83e\ude78 Request Details"})}),(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{c(!0),d(null);const n={...t,blood_group_id:parseInt(t.blood_group_id),component_id:parseInt(t.component_id),units_required:parseInt(t.units_required),latitude:t.latitude?parseFloat(t.latitude):null,longitude:t.longitude?parseFloat(t.longitude):null};console.log("Creating request:",n),d({type:"success",text:"Blood request created successfully!"}),setTimeout(()=>{e("/app/requests")},2e3)}catch(a){var r,s;d({type:"error",text:(null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to create request"})}finally{c(!1)}},className:"request-form",children:[(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"blood_group_id",className:"form-label",children:"Blood Group *"}),(0,Ie.jsxs)("select",{id:"blood_group_id",name:"blood_group_id",className:"form-select",value:t.blood_group_id,onChange:m,required:!0,children:[(0,Ie.jsx)("option",{value:"",children:"Select Blood Group"}),r.map(e=>(0,Ie.jsx)("option",{value:e.blood_group_id,children:e.group_name},e.blood_group_id))]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"component_id",className:"form-label",children:"Blood Component *"}),(0,Ie.jsxs)("select",{id:"component_id",name:"component_id",className:"form-select",value:t.component_id,onChange:m,required:!0,children:[(0,Ie.jsx)("option",{value:"",children:"Select Blood Component"}),i.map(e=>(0,Ie.jsx)("option",{value:e.component_id,children:e.component_name},e.component_id))]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"units_required",className:"form-label",children:"Units Required *"}),(0,Ie.jsx)("input",{type:"number",id:"units_required",name:"units_required",className:"form-input",value:t.units_required,onChange:m,min:"1",max:"10",required:!0}),(0,Ie.jsx)("small",{className:"form-help",children:"Number of units needed (1-10)"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"urgency",className:"form-label",children:"Urgency Level *"}),(0,Ie.jsxs)("select",{id:"urgency",name:"urgency",className:"form-select",value:t.urgency,onChange:m,required:!0,children:[(0,Ie.jsx)("option",{value:"Scheduled",children:"Scheduled"}),(0,Ie.jsx)("option",{value:"Urgent",children:"Urgent"}),(0,Ie.jsx)("option",{value:"SOS",children:"SOS (Emergency)"})]}),(0,Ie.jsx)("small",{className:"form-help",children:"SOS requests will immediately notify nearby donors"})]})]}),(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"\ud83c\udfe5 Hospital Information"}),(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"hospital_name",className:"form-label",children:"Hospital Name"}),(0,Ie.jsx)("input",{type:"text",id:"hospital_name",name:"hospital_name",className:"form-input",value:t.hospital_name,onChange:m,placeholder:"Enter hospital name"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"hospital_address",className:"form-label",children:"Hospital Address"}),(0,Ie.jsx)("input",{type:"text",id:"hospital_address",name:"hospital_address",className:"form-input",value:t.hospital_address,onChange:m,placeholder:"Enter hospital address"})]})]})]}),(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"\ud83d\udccd Location (Optional but Recommended)"}),(0,Ie.jsxs)("div",{className:"location-input",children:[(0,Ie.jsxs)("div",{className:"location-fields",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"latitude",className:"form-label",children:"Latitude"}),(0,Ie.jsx)("input",{type:"number",id:"latitude",name:"latitude",className:"form-input",placeholder:"Latitude",value:t.latitude,onChange:m,step:"any"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"longitude",className:"form-label",children:"Longitude"}),(0,Ie.jsx)("input",{type:"number",id:"longitude",name:"longitude",className:"form-input",placeholder:"Longitude",value:t.longitude,onChange:m,step:"any"})]})]}),(0,Ie.jsx)("button",{type:"button",className:"btn btn-secondary location-btn",onClick:()=>{navigator.geolocation?(f(!0),navigator.geolocation.getCurrentPosition(e=>{n(t=>({...t,latitude:e.coords.latitude.toString(),longitude:e.coords.longitude.toString()})),f(!1),d({type:"success",text:"Location captured successfully!"})},e=>{d({type:"error",text:"Failed to get your location"}),f(!1)})):d({type:"error",text:"Geolocation is not supported by this browser"})},disabled:h,children:h?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),"Getting Location..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{children:"\ud83d\udccd"}),"Use Current Location"]})})]}),(0,Ie.jsx)("small",{className:"form-help",children:"Providing your location helps us find nearby donors faster"})]}),(0,Ie.jsxs)("div",{className:"form-section",children:[(0,Ie.jsx)("h4",{children:"\ud83d\udcdd Additional Notes"}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes (Optional)"}),(0,Ie.jsx)("textarea",{id:"notes",name:"notes",className:"form-textarea",value:t.notes,onChange:m,placeholder:"Any additional information about the request...",rows:"3"})]})]}),(0,Ie.jsxs)("div",{className:"form-actions",children:[(0,Ie.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:l,children:l?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"spinner"}),"Creating Request..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("span",{children:"\ud83e\ude78"}),"Create Request"]})}),(0,Ie.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/app/requests"),children:"Cancel"})]})]})})]}),(0,Ie.jsxs)("div",{className:"card info-card",children:[(0,Ie.jsx)("div",{className:"card-header",children:(0,Ie.jsx)("h3",{children:"\u2139\ufe0f Important Information"})}),(0,Ie.jsx)("div",{className:"card-body",children:(0,Ie.jsxs)("div",{className:"info-list",children:[(0,Ie.jsxs)("div",{className:"info-item-card",children:[(0,Ie.jsx)("div",{className:"info-icon sos",children:"\ud83c\udd98"}),(0,Ie.jsxs)("div",{className:"info-content",children:[(0,Ie.jsx)("h4",{children:"SOS Requests"}),(0,Ie.jsx)("p",{children:"Will immediately notify all nearby compatible donors"})]})]}),(0,Ie.jsxs)("div",{className:"info-item-card",children:[(0,Ie.jsx)("div",{className:"info-icon urgent",children:"\u26a1"}),(0,Ie.jsxs)("div",{className:"info-content",children:[(0,Ie.jsx)("h4",{children:"Urgent Requests"}),(0,Ie.jsx)("p",{children:"Will be prioritized in donor notifications"})]})]}),(0,Ie.jsxs)("div",{className:"info-item-card",children:[(0,Ie.jsx)("div",{className:"info-icon scheduled",children:"\ud83d\udcc5"}),(0,Ie.jsxs)("div",{className:"info-content",children:[(0,Ie.jsx)("h4",{children:"Scheduled Requests"}),(0,Ie.jsx)("p",{children:"For planned procedures and regular transfusions"})]})]}),(0,Ie.jsxs)("div",{className:"info-item-card",children:[(0,Ie.jsx)("div",{className:"info-icon location",children:"\ud83d\udccd"}),(0,Ie.jsxs)("div",{className:"info-content",children:[(0,Ie.jsx)("h4",{children:"Location"}),(0,Ie.jsx)("p",{children:"Helps us find the closest available donors"})]})]})]})})]})]})]})},oo=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)({blood_group:"",city:"",radius:"10"}),[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await Ei();t(e.data)}catch(e){console.error("Error fetching blood groups:",e)}};return(0,Ie.jsxs)("div",{className:"donors-page",children:[(0,Ie.jsxs)("div",{className:"page-header",children:[(0,Ie.jsx)("h2",{children:"Find Blood Donors"}),(0,Ie.jsx)("p",{children:"Search for compatible blood donors in your area"})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Search Criteria"}),(0,Ie.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),setTimeout(()=>{i(!1),alert("Donor search functionality would be implemented here")},1e3)},children:[(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"blood_group",children:"Blood Group"}),(0,Ie.jsxs)("select",{id:"blood_group",value:n.blood_group,onChange:e=>r(t=>({...t,blood_group:e.target.value})),children:[(0,Ie.jsx)("option",{value:"",children:"Any Blood Group"}),e.map(e=>(0,Ie.jsx)("option",{value:e.group_name,children:e.group_name},e.blood_group_id))]})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"city",children:"City"}),(0,Ie.jsx)("input",{type:"text",id:"city",value:n.city,onChange:e=>r(t=>({...t,city:e.target.value})),placeholder:"Enter city name"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"radius",children:"Search Radius (km)"}),(0,Ie.jsxs)("select",{id:"radius",value:n.radius,onChange:e=>r(t=>({...t,radius:e.target.value})),children:[(0,Ie.jsx)("option",{value:"5",children:"5 km"}),(0,Ie.jsx)("option",{value:"10",children:"10 km"}),(0,Ie.jsx)("option",{value:"25",children:"25 km"}),(0,Ie.jsx)("option",{value:"50",children:"50 km"})]})]})]}),(0,Ie.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Searching...":"Search Donors"})]})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Blood Compatibility Guide"}),(0,Ie.jsx)("div",{className:"compatibility-table",children:(0,Ie.jsxs)("table",{children:[(0,Ie.jsx)("thead",{children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{children:"Blood Type"}),(0,Ie.jsx)("th",{children:"Can Donate To"}),(0,Ie.jsx)("th",{children:"Can Receive From"})]})}),(0,Ie.jsxs)("tbody",{children:[(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"O-"}),(0,Ie.jsx)("td",{children:"Everyone (Universal Donor)"}),(0,Ie.jsx)("td",{children:"O-"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"O+"}),(0,Ie.jsx)("td",{children:"O+, A+, B+, AB+"}),(0,Ie.jsx)("td",{children:"O-, O+"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"A-"}),(0,Ie.jsx)("td",{children:"A-, A+, AB-, AB+"}),(0,Ie.jsx)("td",{children:"O-, A-"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"A+"}),(0,Ie.jsx)("td",{children:"A+, AB+"}),(0,Ie.jsx)("td",{children:"O-, O+, A-, A+"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"B-"}),(0,Ie.jsx)("td",{children:"B-, B+, AB-, AB+"}),(0,Ie.jsx)("td",{children:"O-, B-"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"B+"}),(0,Ie.jsx)("td",{children:"B+, AB+"}),(0,Ie.jsx)("td",{children:"O-, O+, B-, B+"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"AB-"}),(0,Ie.jsx)("td",{children:"AB-, AB+"}),(0,Ie.jsx)("td",{children:"O-, A-, B-, AB-"})]}),(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("td",{children:"AB+"}),(0,Ie.jsx)("td",{children:"AB+"}),(0,Ie.jsx)("td",{children:"Everyone (Universal Recipient)"})]})]})]})})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Important Notes"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Always verify blood compatibility with medical professionals"}),(0,Ie.jsx)("li",{children:"Donors must meet health and eligibility criteria"}),(0,Ie.jsx)("li",{children:"Contact information is shared only with patient consent"}),(0,Ie.jsx)("li",{children:"Emergency requests (SOS) are prioritized in search results"})]})]})]})},lo=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)({city:"",state:""}),[c,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{d()},[o]);const d=async()=>{try{i(!0);const e=await Ci(o);t(e.data)}catch(e){console.error("Error fetching blood banks:",e)}finally{i(!1)}};return(0,Ie.jsxs)("div",{className:"blood-banks-page",children:[(0,Ie.jsxs)("div",{className:"page-header",children:[(0,Ie.jsx)("h2",{children:"Blood Banks Directory"}),(0,Ie.jsx)("p",{children:"Find blood banks and check blood availability in your area"})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Search Blood Banks"}),(0,Ie.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d()},children:[(0,Ie.jsxs)("div",{className:"form-grid",children:[(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"city",children:"City"}),(0,Ie.jsx)("input",{type:"text",id:"city",value:o.city,onChange:e=>l(t=>({...t,city:e.target.value})),placeholder:"Enter city name"})]}),(0,Ie.jsxs)("div",{className:"form-group",children:[(0,Ie.jsx)("label",{htmlFor:"state",children:"State"}),(0,Ie.jsx)("input",{type:"text",id:"state",value:o.state,onChange:e=>l(t=>({...t,state:e.target.value})),placeholder:"Enter state name"})]})]}),(0,Ie.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search Blood Banks"})]})]}),s?(0,Ie.jsx)("div",{className:"loading",children:(0,Ie.jsx)("div",{className:"spinner"})}):(0,Ie.jsx)("div",{className:"blood-banks-grid",children:e.length>0?e.map(e=>(0,Ie.jsxs)("div",{className:"card blood-bank-card",children:[(0,Ie.jsxs)("div",{className:"bank-header",children:[(0,Ie.jsx)("h3",{children:e.name}),(0,Ie.jsx)("span",{className:`category category-${e.category.toLowerCase().replace("/","-")}`,children:e.category})]}),(0,Ie.jsxs)("div",{className:"bank-details",children:[(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Address:"})," ",e.address]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"City:"})," ",e.city]}),(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"State:"})," ",e.state]}),e.phone&&(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Phone:"})," ",(0,Ie.jsx)("a",{href:`tel:${e.phone}`,children:e.phone})]}),e.email&&(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Email:"})," ",(0,Ie.jsx)("a",{href:`mailto:${e.email}`,children:e.email})]})]}),(0,Ie.jsx)("div",{className:"bank-actions",children:(0,Ie.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{try{const t=await Pi({bank_id:e});r(t.data),u(e)}catch(t){console.error("Error fetching blood stock:",t)}})(e.bank_id),children:"Check Blood Stock"})}),c===e.bank_id&&(0,Ie.jsxs)("div",{className:"blood-stock",children:[(0,Ie.jsx)("h4",{children:"Blood Stock Availability"}),n.length>0?(0,Ie.jsx)("div",{className:"stock-grid",children:n.map(e=>(0,Ie.jsxs)("div",{className:"stock-item",children:[(0,Ie.jsx)("span",{className:"blood-type",children:e.blood_group.group_name}),(0,Ie.jsx)("span",{className:"component",children:e.component.component_name}),(0,Ie.jsxs)("span",{className:"units",children:[e.units_available," units"]}),(0,Ie.jsxs)("span",{className:"last-updated",children:["Updated:"," ",new Date(e.last_updated).toLocaleDateString()]})]},e.stock_id))}):(0,Ie.jsx)("p",{children:"No blood stock information available"})]})]},e.bank_id)):(0,Ie.jsx)("div",{className:"card",children:(0,Ie.jsx)("p",{children:"No blood banks found matching your search criteria."})})}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Blood Bank Categories"}),(0,Ie.jsxs)("div",{className:"category-info",children:[(0,Ie.jsxs)("div",{className:"category-item",children:[(0,Ie.jsx)("strong",{children:"Government:"})," Public sector blood banks operated by government hospitals"]}),(0,Ie.jsxs)("div",{className:"category-item",children:[(0,Ie.jsx)("strong",{children:"Private:"})," Private hospitals and healthcare facilities"]}),(0,Ie.jsxs)("div",{className:"category-item",children:[(0,Ie.jsx)("strong",{children:"Charitable/Voluntary:"})," NGOs and charitable organizations"]})]})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Important Information"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Blood stock levels are updated regularly but may change quickly"}),(0,Ie.jsx)("li",{children:"Always call ahead to confirm availability before visiting"}),(0,Ie.jsx)("li",{children:"Bring valid ID and medical documents when donating or receiving blood"}),(0,Ie.jsx)("li",{children:"Some blood banks may have specific operating hours"}),(0,Ie.jsx)("li",{children:"Emergency cases are given priority regardless of stock levels"})]})]})]})},co={sendMessage:async e=>(await Si.post("/ai/chat",{prompt:e})).data,getChatHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return(await Si.get(`/ai/chat/history?limit=${e}`)).data},clearChatHistory:async()=>(await Si.delete("/ai/chat/history")).data,getHealthRecommendations:async e=>(await Si.get(`/ai/recommendations?user_type=${e}`)).data,getEmergencyAssistance:async e=>(await Si.post("/ai/emergency",{situation:e})).data},uo=()=>{const[e,t]=(0,a.useState)([{id:1,type:"bot",content:"Hello! I'm CareBot, your AI assistant for Thalassemia care and blood donation support. How can I help you today?",timestamp:new Date}]),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[e]);return(0,Ie.jsxs)("div",{className:"carebot-page",children:[(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h2",{children:"\ud83e\udd16 CareBot - Your AI Health Assistant"}),(0,Ie.jsx)("p",{children:"Ask me anything about Thalassemia care, blood donation, or general health topics."})]}),(0,Ie.jsxs)("div",{className:"chat-container",children:[(0,Ie.jsxs)("div",{className:"chat-messages",children:[e.map(e=>(0,Ie.jsxs)("div",{className:`chat-message ${e.type}`,children:[(0,Ie.jsx)("div",{className:"message-content",children:e.content}),(0,Ie.jsx)("div",{className:"message-time",children:e.timestamp.toLocaleTimeString()})]},e.id)),s&&(0,Ie.jsx)("div",{className:"chat-message bot",children:(0,Ie.jsx)("div",{className:"message-content",children:(0,Ie.jsxs)("div",{className:"typing-indicator",children:[(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{}),(0,Ie.jsx)("span",{})]})})}),(0,Ie.jsx)("div",{ref:o})]}),(0,Ie.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!n.trim()||s)return;const a={id:Date.now(),type:"user",content:n.trim(),timestamp:new Date};t(e=>[...e,a]),r(""),i(!0);try{const e=await co.queryCareBot(a.content),n={id:Date.now()+1,type:"bot",content:e.data.response,timestamp:new Date};t(e=>[...e,n])}catch(o){const e={id:Date.now()+1,type:"bot",content:"I'm sorry, I'm having trouble responding right now. Please try again later or consult with your healthcare provider for urgent medical questions.",timestamp:new Date};t(t=>[...t,e])}finally{i(!1)}},className:"chat-input",children:[(0,Ie.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Type your message here...",disabled:s}),(0,Ie.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s||!n.trim(),children:"Send"})]})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Quick Questions"}),(0,Ie.jsx)("div",{className:"quick-questions",children:["What is Thalassemia?","How often should I donate blood?","What should I eat before blood donation?","How can I manage Thalassemia symptoms?","What are the side effects of blood transfusion?","How to maintain iron levels?"].map((e,t)=>(0,Ie.jsx)("button",{className:"btn btn-secondary quick-question-btn",onClick:()=>(e=>{r(e)})(e),disabled:s,children:e},t))})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"\u26a0\ufe0f Important Disclaimer"}),(0,Ie.jsx)("p",{children:"CareBot provides general information and support. For medical emergencies or specific medical advice, please consult with your healthcare provider immediately. This AI assistant is not a substitute for professional medical care."})]})]})},ho=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=new URLSearchParams;t&&n.append("status",t);return(await Si.get(`/donors/${e}/notifications?${n}`)).data}catch(n){throw console.error("Error fetching notifications:",n),n}},fo=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const n=new URLSearchParams;t&&n.append("status",t);return(await Si.get(`/donors/${e}/coupons?${n}`)).data}catch(n){throw console.error("Error fetching coupons:",n),n}},po=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[s]);const o=async()=>{try{r(!0);const e=await ho(s||null);t(e.data)}catch(e){console.error("Error fetching notifications:",e)}finally{r(!1)}};return n?(0,Ie.jsx)("div",{className:"loading",children:(0,Ie.jsx)("div",{className:"spinner"})}):(0,Ie.jsxs)("div",{className:"notifications-page",children:[(0,Ie.jsx)("div",{className:"page-header",children:(0,Ie.jsx)("h2",{children:"My Notifications"})}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Filter Notifications"}),(0,Ie.jsx)("div",{className:"form-group",children:(0,Ie.jsxs)("select",{value:s,onChange:e=>i(e.target.value),children:[(0,Ie.jsx)("option",{value:"",children:"All Notifications"}),(0,Ie.jsx)("option",{value:"Sent",children:"Sent"}),(0,Ie.jsx)("option",{value:"Read",children:"Read"}),(0,Ie.jsx)("option",{value:"Accepted",children:"Accepted"}),(0,Ie.jsx)("option",{value:"Declined",children:"Declined"})]})})]}),(0,Ie.jsx)("div",{className:"notifications-list",children:e.length>0?e.map(e=>(0,Ie.jsxs)("div",{className:"card notification-card",children:[(0,Ie.jsxs)("div",{className:"notification-header",children:[(0,Ie.jsx)("span",{className:`status status-${e.status.toLowerCase()}`,children:e.status}),(0,Ie.jsx)("span",{className:"notification-time",children:new Date(e.sent_at).toLocaleString()})]}),(0,Ie.jsxs)("div",{className:"notification-content",children:[(0,Ie.jsx)("p",{children:e.message}),(0,Ie.jsxs)("div",{className:"request-details",children:[(0,Ie.jsx)("span",{className:"blood-type",children:e.blood_group}),(0,Ie.jsx)("span",{className:"component",children:e.component}),(0,Ie.jsx)("span",{className:`urgency urgency-${e.request_urgency.toLowerCase()}`,children:e.request_urgency})]})]})]},e.notification_id)):(0,Ie.jsx)("div",{className:"card",children:(0,Ie.jsx)("p",{children:"No notifications found."})})})]})},mo=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)("");(0,a.useEffect)(()=>{o()},[s]);const o=async()=>{try{r(!0);const e=await fo(s||null);t(e.data)}catch(e){console.error("Error fetching coupons:",e)}finally{r(!1)}};return n?(0,Ie.jsx)("div",{className:"loading",children:(0,Ie.jsx)("div",{className:"spinner"})}):(0,Ie.jsxs)("div",{className:"coupons-page",children:[(0,Ie.jsxs)("div",{className:"page-header",children:[(0,Ie.jsx)("h2",{children:"My Coupons & Rewards"}),(0,Ie.jsx)("p",{children:"Earn coupons by donating blood and helping save lives!"})]}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"Filter Coupons"}),(0,Ie.jsx)("div",{className:"form-group",children:(0,Ie.jsxs)("select",{value:s,onChange:e=>i(e.target.value),children:[(0,Ie.jsx)("option",{value:"",children:"All Coupons"}),(0,Ie.jsx)("option",{value:"Issued",children:"Available"}),(0,Ie.jsx)("option",{value:"Redeemed",children:"Redeemed"}),(0,Ie.jsx)("option",{value:"Expired",children:"Expired"})]})})]}),(0,Ie.jsx)("div",{className:"coupons-grid",children:e.length>0?e.map(e=>(0,Ie.jsxs)("div",{className:"card coupon-card",children:[(0,Ie.jsxs)("div",{className:"coupon-header",children:[(0,Ie.jsx)("h3",{children:e.partner_name}),(0,Ie.jsx)("span",{className:`status status-${e.status.toLowerCase()}`,children:e.status})]}),(0,Ie.jsxs)("div",{className:"coupon-content",children:[(0,Ie.jsx)("h4",{children:e.coupon_title}),"Issued"===e.status&&(0,Ie.jsxs)("div",{className:"redemption-code",children:[(0,Ie.jsx)("strong",{children:"Redemption Code:"}),(0,Ie.jsx)("code",{children:e.redemption_code})]}),(0,Ie.jsxs)("div",{className:"coupon-meta",children:[(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Issued:"})," ",new Date(e.issued_at).toLocaleDateString()]}),e.expiry_date&&(0,Ie.jsxs)("p",{children:[(0,Ie.jsx)("strong",{children:"Expires:"})," ",new Date(e.expiry_date).toLocaleDateString()]})]})]})]},e.id)):(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"No Coupons Yet"}),(0,Ie.jsx)("p",{children:"Start donating blood to earn reward coupons from our partners!"})]})}),(0,Ie.jsxs)("div",{className:"card",children:[(0,Ie.jsx)("h3",{children:"How to Earn Coupons"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsx)("li",{children:"Donate blood at registered blood banks"}),(0,Ie.jsx)("li",{children:"Respond to SOS requests from patients"}),(0,Ie.jsx)("li",{children:"Maintain regular donation schedule"}),(0,Ie.jsx)("li",{children:"Keep your profile updated with interests"})]})]})]})},vo=()=>{const e=re(),{user:t}=Je();return(0,a.useEffect)(()=>{(async()=>{try{e(t?"/app/dashboard":"/login",{replace:!0})}catch(n){console.error("Auth callback error:",n),e("/login",{replace:!0})}})()},[t,e]),(0,Ie.jsx)("div",{className:"auth-callback",children:(0,Ie.jsxs)("div",{className:"loading",children:[(0,Ie.jsx)("div",{className:"spinner"}),(0,Ie.jsx)("p",{children:"Completing authentication..."})]})})},go=()=>(0,Ie.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),yo=()=>(0,Ie.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),bo=()=>{const{isAuthenticated:e,user:t}=Je(),n=re(),[r,s]=(0,a.useState)({livesSaved:1247,activeDonors:892,emergencyRequests:156,citiesCovered:25});return(0,a.useEffect)(()=>{e&&n("/app/dashboard")},[e,n]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{const e={livesSaved:1247,activeDonors:892,emergencyRequests:156,citiesCovered:25};Object.keys(e).forEach(t=>{let n=0;const r=e[t],a=r/100,i=setInterval(()=>{n+=a,n>=r&&(n=r,clearInterval(i)),s(e=>({...e,[t]:Math.floor(n)}))},20)})},500);return()=>clearTimeout(e)},[]),(0,Ie.jsxs)("div",{className:"landing-page",children:[(0,Ie.jsx)("nav",{className:"landing-nav",children:(0,Ie.jsxs)("div",{className:"landing-nav__container",children:[(0,Ie.jsxs)(Oe,{to:"/",className:"landing-nav__brand",children:[(0,Ie.jsx)("div",{className:"landing-nav__logo",children:(0,Ie.jsx)(Qe,{})}),(0,Ie.jsx)("span",{className:"landing-nav__title",children:"Blood Warriors"})]}),(0,Ie.jsxs)("div",{className:"landing-nav__actions",children:[(0,Ie.jsx)(Oe,{to:"/login",children:(0,Ie.jsx)(tt,{variant:"ghost",size:"sm",children:"Sign In"})}),(0,Ie.jsx)(Oe,{to:"/register",children:(0,Ie.jsx)(tt,{variant:"primary",size:"sm",children:"Join the Fight"})})]})]})}),(0,Ie.jsxs)("section",{className:"hero-section",children:[(0,Ie.jsxs)("div",{className:"hero-content",children:[(0,Ie.jsxs)("div",{className:"hero-badge",children:[(0,Ie.jsx)(Qe,{}),(0,Ie.jsx)("span",{children:"Saving Lives Together"})]}),(0,Ie.jsxs)("h1",{className:"hero-title",children:["Every Drop Counts in the",(0,Ie.jsx)("span",{className:"text-gradient",children:" Fight Against Thalassemia"})]}),(0,Ie.jsx)("p",{className:"hero-subtitle",children:"Join Blood Warriors - India's first AI-powered platform connecting Thalassemia patients with life-saving blood donors. Get emergency support, find compatible donors, and be part of a community that never gives up."}),(0,Ie.jsxs)("div",{className:"hero-actions",children:[(0,Ie.jsx)(Oe,{to:"/register",children:(0,Ie.jsx)(tt,{variant:"sos",size:"xl",icon:(0,Ie.jsx)(Qe,{}),children:"Join as Patient"})}),(0,Ie.jsx)(Oe,{to:"/register?type=donor",children:(0,Ie.jsx)(tt,{variant:"primary",size:"xl",icon:(0,Ie.jsx)(Ye,{}),children:"Become a Donor"})})]}),(0,Ie.jsxs)("div",{className:"hero-stats",children:[(0,Ie.jsxs)("div",{className:"hero-stat",children:[(0,Ie.jsxs)("div",{className:"hero-stat__number",children:[r.livesSaved.toLocaleString(),"+"]}),(0,Ie.jsx)("div",{className:"hero-stat__label",children:"Lives Saved"})]}),(0,Ie.jsxs)("div",{className:"hero-stat",children:[(0,Ie.jsxs)("div",{className:"hero-stat__number",children:[r.activeDonors.toLocaleString(),"+"]}),(0,Ie.jsx)("div",{className:"hero-stat__label",children:"Active Donors"})]}),(0,Ie.jsxs)("div",{className:"hero-stat",children:[(0,Ie.jsxs)("div",{className:"hero-stat__number",children:[r.emergencyRequests.toLocaleString(),"+"]}),(0,Ie.jsx)("div",{className:"hero-stat__label",children:"Emergency Responses"})]}),(0,Ie.jsxs)("div",{className:"hero-stat",children:[(0,Ie.jsxs)("div",{className:"hero-stat__number",children:[r.citiesCovered,"+"]}),(0,Ie.jsx)("div",{className:"hero-stat__label",children:"Cities Covered"})]})]})]}),(0,Ie.jsxs)("div",{className:"hero-visual",children:[(0,Ie.jsxs)("div",{className:"hero-visual__main",children:[(0,Ie.jsx)("div",{className:"hero-visual__pulse"}),(0,Ie.jsx)("div",{className:"hero-visual__heart",children:(0,Ie.jsx)(Qe,{})})]}),(0,Ie.jsxs)("div",{className:"hero-visual__orbits",children:[(0,Ie.jsx)("div",{className:"orbit orbit--1"}),(0,Ie.jsx)("div",{className:"orbit orbit--2"}),(0,Ie.jsx)("div",{className:"orbit orbit--3"})]})]})]}),(0,Ie.jsx)("section",{className:"features-section",children:(0,Ie.jsxs)("div",{className:"section-container",children:[(0,Ie.jsxs)("div",{className:"section-header",children:[(0,Ie.jsx)("h2",{className:"section-title",children:"Why Choose Blood Warriors?"}),(0,Ie.jsx)("p",{className:"section-subtitle",children:"Advanced technology meets compassionate care to create the most effective blood donation network for Thalassemia patients in India."})]}),(0,Ie.jsxs)("div",{className:"features-grid",children:[(0,Ie.jsxs)(zi,{variant:"glass",padding:"lg",hover:!0,className:"feature-card",children:[(0,Ie.jsx)("div",{className:"feature-icon feature-icon--sos",children:(0,Ie.jsx)(Ze,{})}),(0,Ie.jsx)("h3",{className:"feature-title",children:"Emergency SOS Network"}),(0,Ie.jsx)("p",{className:"feature-description",children:"Instant alerts to nearby donors within 15km radius. Get help in under 5 minutes during critical emergencies with our AI-powered matching system."}),(0,Ie.jsxs)("div",{className:"feature-stats",children:[(0,Ie.jsx)("span",{className:"feature-stat",children:"~5 min response"}),(0,Ie.jsx)("span",{className:"feature-stat",children:"15km coverage"})]})]}),(0,Ie.jsxs)(zi,{variant:"glass",padding:"lg",hover:!0,className:"feature-card",children:[(0,Ie.jsx)("div",{className:"feature-icon feature-icon--ai",children:(0,Ie.jsx)(go,{})}),(0,Ie.jsx)("h3",{className:"feature-title",children:"Thalassemia CareBot"}),(0,Ie.jsx)("p",{className:"feature-description",children:"24/7 AI companion providing personalized health guidance, medication reminders, and emotional support tailored specifically for Thalassemia patients."}),(0,Ie.jsxs)("div",{className:"feature-stats",children:[(0,Ie.jsx)("span",{className:"feature-stat",children:"24/7 available"}),(0,Ie.jsx)("span",{className:"feature-stat",children:"Personalized care"})]})]}),(0,Ie.jsxs)(zi,{variant:"glass",padding:"lg",hover:!0,className:"feature-card",children:[(0,Ie.jsx)("div",{className:"feature-icon feature-icon--rewards",children:(0,Ie.jsx)(yo,{})}),(0,Ie.jsx)("h3",{className:"feature-title",children:"Donor Rewards Program"}),(0,Ie.jsx)("p",{className:"feature-description",children:"Exclusive perks and rewards for our hero donors. From healthcare discounts to entertainment vouchers - because heroes deserve recognition."}),(0,Ie.jsxs)("div",{className:"feature-stats",children:[(0,Ie.jsx)("span",{className:"feature-stat",children:"Exclusive perks"}),(0,Ie.jsx)("span",{className:"feature-stat",children:"Hero recognition"})]})]}),(0,Ie.jsxs)(zi,{variant:"glass",padding:"lg",hover:!0,className:"feature-card",children:[(0,Ie.jsx)("div",{className:"feature-icon feature-icon--network",children:(0,Ie.jsx)(Xe,{})}),(0,Ie.jsx)("h3",{className:"feature-title",children:"Smart Donor Network"}),(0,Ie.jsx)("p",{className:"feature-description",children:"Advanced geolocation and compatibility matching ensures you find the right donor at the right time, every time."}),(0,Ie.jsxs)("div",{className:"feature-stats",children:[(0,Ie.jsx)("span",{className:"feature-stat",children:"Smart matching"}),(0,Ie.jsx)("span",{className:"feature-stat",children:"Real-time tracking"})]})]})]})]})}),(0,Ie.jsx)("section",{className:"how-it-works-section",children:(0,Ie.jsxs)("div",{className:"section-container",children:[(0,Ie.jsxs)("div",{className:"section-header",children:[(0,Ie.jsx)("h2",{className:"section-title",children:"How Blood Warriors Works"}),(0,Ie.jsx)("p",{className:"section-subtitle",children:"Simple, fast, and effective - get the help you need in just a few steps."})]}),(0,Ie.jsxs)("div",{className:"steps-grid",children:[(0,Ie.jsxs)("div",{className:"step-card",children:[(0,Ie.jsx)("div",{className:"step-number",children:"1"}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{className:"step-title",children:"Sign Up & Verify"}),(0,Ie.jsx)("p",{className:"step-description",children:"Create your profile with medical details and get verified by our healthcare partners."})]})]}),(0,Ie.jsxs)("div",{className:"step-card",children:[(0,Ie.jsx)("div",{className:"step-number",children:"2"}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{className:"step-title",children:"Request Blood"}),(0,Ie.jsx)("p",{className:"step-description",children:"Use our SOS feature or schedule requests. Our AI finds compatible donors instantly."})]})]}),(0,Ie.jsxs)("div",{className:"step-card",children:[(0,Ie.jsx)("div",{className:"step-number",children:"3"}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{className:"step-title",children:"Get Connected"}),(0,Ie.jsx)("p",{className:"step-description",children:"Donors receive notifications and can respond immediately. Real-time coordination."})]})]}),(0,Ie.jsxs)("div",{className:"step-card",children:[(0,Ie.jsx)("div",{className:"step-number",children:"4"}),(0,Ie.jsxs)("div",{className:"step-content",children:[(0,Ie.jsx)("h3",{className:"step-title",children:"Save Lives"}),(0,Ie.jsx)("p",{className:"step-description",children:"Complete the donation process with full support and tracking from our platform."})]})]})]})]})}),(0,Ie.jsx)("section",{className:"cta-section",children:(0,Ie.jsx)("div",{className:"section-container",children:(0,Ie.jsx)(zi,{variant:"primary",padding:"xl",className:"cta-card",children:(0,Ie.jsxs)("div",{className:"cta-content",children:[(0,Ie.jsx)("h2",{className:"cta-title",children:"Ready to Join the Fight?"}),(0,Ie.jsx)("p",{className:"cta-subtitle",children:"Every second counts when it comes to saving lives. Join thousands of warriors who are making a difference in the Thalassemia community."}),(0,Ie.jsxs)("div",{className:"cta-actions",children:[(0,Ie.jsx)(Oe,{to:"/register",children:(0,Ie.jsx)(tt,{variant:"secondary",size:"xl",icon:(0,Ie.jsx)(Qe,{}),children:"Join as Patient"})}),(0,Ie.jsx)(Oe,{to:"/register?type=donor",children:(0,Ie.jsx)(tt,{variant:"outline",size:"xl",icon:(0,Ie.jsx)(Ye,{}),children:"Become a Donor"})})]})]})})})}),(0,Ie.jsxs)("footer",{className:"landing-footer",children:[(0,Ie.jsxs)("div",{className:"footer-container",children:[(0,Ie.jsxs)("div",{className:"footer-brand",children:[(0,Ie.jsx)("div",{className:"footer-logo",children:(0,Ie.jsx)(Qe,{})}),(0,Ie.jsx)("h3",{className:"footer-title",children:"Blood Warriors"}),(0,Ie.jsx)("p",{className:"footer-description",children:"Empowering Thalassemia patients with life-saving connections."})]}),(0,Ie.jsxs)("div",{className:"footer-links",children:[(0,Ie.jsxs)("div",{className:"footer-section",children:[(0,Ie.jsx)("h4",{children:"Platform"}),(0,Ie.jsx)("a",{href:"#features",children:"Features"}),(0,Ie.jsx)("a",{href:"#how-it-works",children:"How it Works"}),(0,Ie.jsx)("a",{href:"#about",children:"About Us"})]}),(0,Ie.jsxs)("div",{className:"footer-section",children:[(0,Ie.jsx)("h4",{children:"Support"}),(0,Ie.jsx)("a",{href:"#help",children:"Help Center"}),(0,Ie.jsx)("a",{href:"#contact",children:"Contact Us"}),(0,Ie.jsx)("a",{href:"#emergency",children:"Emergency"})]}),(0,Ie.jsxs)("div",{className:"footer-section",children:[(0,Ie.jsx)("h4",{children:"Legal"}),(0,Ie.jsx)("a",{href:"#privacy",children:"Privacy Policy"}),(0,Ie.jsx)("a",{href:"#terms",children:"Terms of Service"}),(0,Ie.jsx)("a",{href:"#medical",children:"Medical Disclaimer"})]})]})]}),(0,Ie.jsx)("div",{className:"footer-bottom",children:(0,Ie.jsx)("p",{children:"\xa9 2024 Blood Warriors. All rights reserved. Saving lives, one drop at a time."})})]})]})},_o=e=>{let{children:t}=e;return(0,Ie.jsxs)("div",{className:"app-layout",children:[(0,Ie.jsx)(ut,{}),(0,Ie.jsx)("main",{className:"app-main",children:t})]})};const wo=function(){return(0,Ie.jsx)(ht,{children:(0,Ie.jsx)(Me,{children:(0,Ie.jsx)(Ce,{children:(0,Ie.jsx)("div",{className:"App",children:(0,Ie.jsxs)(we,{children:[(0,Ie.jsx)(be,{path:"/",element:(0,Ie.jsx)(bo,{})}),(0,Ie.jsx)(be,{path:"/login",element:(0,Ie.jsx)(ft,{})}),(0,Ie.jsx)(be,{path:"/register",element:(0,Ie.jsx)(Ti,{})}),(0,Ie.jsx)(be,{path:"/forgot-password",element:(0,Ie.jsx)(Oi,{})}),(0,Ie.jsx)(be,{path:"/reset-password",element:(0,Ie.jsx)(Ri,{})}),(0,Ie.jsx)(be,{path:"/auth/callback",element:(0,Ie.jsx)(vo,{})}),(0,Ie.jsx)(be,{path:"/app/*",element:(0,Ie.jsx)(Ge,{children:(0,Ie.jsx)(_o,{children:(0,Ie.jsxs)(we,{children:[(0,Ie.jsx)(be,{index:!0,element:(0,Ie.jsx)(ye,{to:"dashboard",replace:!0})}),(0,Ie.jsx)(be,{path:"dashboard",element:(0,Ie.jsx)(Gi,{})}),(0,Ie.jsx)(be,{path:"profile",element:(0,Ie.jsx)(so,{})}),(0,Ie.jsx)(be,{path:"requests",element:(0,Ie.jsx)(ao,{})}),(0,Ie.jsx)(be,{path:"requests/new",element:(0,Ie.jsx)(io,{})}),(0,Ie.jsx)(be,{path:"sos",element:(0,Ie.jsx)(Qi,{})}),(0,Ie.jsx)(be,{path:"donors",element:(0,Ie.jsx)(oo,{})}),(0,Ie.jsx)(be,{path:"blood-banks",element:(0,Ie.jsx)(lo,{})}),(0,Ie.jsx)(be,{path:"carebot",element:(0,Ie.jsx)(uo,{})}),(0,Ie.jsx)(be,{path:"notifications",element:(0,Ie.jsx)(po,{})}),(0,Ie.jsx)(be,{path:"coupons",element:(0,Ie.jsx)(mo,{})})]})})})}),(0,Ie.jsx)(be,{path:"*",element:(0,Ie.jsx)(ye,{to:"/",replace:!0})})]})})})})})},xo=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:a,getTTFB:i}=t;n(e),r(e),s(e),a(e),i(e)})};o.createRoot(document.getElementById("root")).render((0,Ie.jsx)(a.StrictMode,{children:(0,Ie.jsx)(wo,{})})),xo()})();
//# sourceMappingURL=main.43ebe224.js.map